<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Input buffer overrun
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2005-July/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Input%20buffer%20overrun&In-Reply-To=%3C42EB64B8.1050108%40boilerbots.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000911.html">
   <LINK REL="Next"  HREF="000914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Input buffer overrun</H1>
    <B>maillist</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Input%20buffer%20overrun&In-Reply-To=%3C42EB64B8.1050108%40boilerbots.com%3E"
       TITLE="[Gpsd-users] Input buffer overrun">maillist at boilerbots.com
       </A><BR>
    <I>Sat Jul 30 13:30:00 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000911.html">[Gpsd-users] Input buffer overrun
</A></li>
        <LI>Next message: <A HREF="000914.html">[Gpsd-users] Input buffer overrun
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#913">[ date ]</a>
              <a href="thread.html#913">[ thread ]</a>
              <a href="subject.html#913">[ subject ]</a>
              <a href="author.html#913">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I cranked out the diff for packet.c to send to you and I was reviewing 
what I changed. I just realized that I missed a change to the call 
read(). The last parameter that limits the number of bytes read. I fixed 
that and ran things for a few minutes and it hasn't crashed yet.

Crap, I feel bad about having you stare at the code like this, but it 
was aborting because of the original problem and I figured this seg 
fault was part of that problem. Didn't realize that I had just change 
the failure with my &quot;fix&quot;.

Now I can see that the input buffer can sometimes remain filled 
completely for several calls. The total size is 393 in this case (192 * 
2+1 = 393).

Have any ideas why the data is not getting emptied very fast? This is 
running on an Athelon 2600.

Here is a clip of the output:

gpsd: Read 64 chars to buffer offset 329 (total 393): 
2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34312c32312c36302c3330302c34302c32322c30372c3231332c33
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34312c32312c36302c3330302c34302c32322c30372c3231332c33372a37450d0a
gpsd: Packet discard of 70, chars remaining is 323 = 
2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34332c32392c32372c3038382c33362c31382c34302c3230352c35322a37440d0a2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c30392c3130342c30302a37440d0a244750524d432c3131303933332e32302c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30322c303030
gpsd: &lt;= GPS: 
$GPGSV,3,1,12,30,24,191,39,10,21,042,41,21,60,300,40,22,07,213,37*7E
gpsd: Partial satellite data (1 of 3).
gpsd: Read 70 chars to buffer offset 323 (total 393): 
2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34332c32392c32372c3038382c33362c31382c34302c3230352c35322a37440d0a
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34332c32392c32372c3038382c33362c31382c34302c3230352c35322a37440d0a
gpsd: Packet discard of 70, chars remaining is 323 = 
2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c30392c3130342c30302a37440d0a244750524d432c3131303933332e32302c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30322c3030302e30302c3330303730352c31342e39352c452c442a32370d0a2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c
gpsd: &lt;= GPS: 
$GPGSV,3,2,12,06,80,106,52,16,19,314,43,29,27,088,36,18,40,205,52*7D
gpsd: Partial satellite data (2 of 3).
gpsd: Read 70 chars to buffer offset 323 (total 393): 
2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c30392c3130342c30302a37440d0a
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c30392c3130342c30302a37440d0a
gpsd: Packet discard of 70, chars remaining is 323 = 
244750524d432c3131303933332e32302c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30322c3030302e30302c3330303730352c31342e39352c452c442a32370d0a2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34312c32312c36302c3330302c34
gpsd: &lt;= GPS: 
$GPGSV,3,3,12,15,27,270,47,26,26,108,42,47,15,250,36,35,09,104,00*7D
gpsd: Satellite data OK.
gpsd: =&gt; client(4): GPSD,Y=GSV ? 12:30 24 191 39 1:10 21 42 41 1:21 60 
300 40 1:22 7 213 37 0:6 80 106 52 1:16 19 314 43 1:29 27 88 36 1:18 40 
205 52 1:15 27 270 47 1:26 26 108 42 1:47 15 250 36 1:35 9 104 0 0:
gpsd: Read 70 chars to buffer offset 323 (total 393): 
244750524d432c3131303933332e32302c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30322c3030302e30302c3330303730352c31342e
gpsd: Packet type 0 accepted 81 = 
244750524d432c3131303933332e32302c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30322c3030302e30302c3330303730352c31342e39352c452c442a32370d0a
gpsd: Packet discard of 81, chars remaining is 312 = 
2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34312c32312c36302c3330302c34302c32322c30372c3231332c33372a37450d0a2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34332c32392c32372c3038382c33372c31382c34302c323035
gpsd: &lt;= GPS: 
$GPRMC,110933.20,A,3713.45099,N,12145.99527,W,000.02,000.00,300705,14.95,E,D*27 

gpsd: GPS has a fix (status=1, mode=0).
gpsd: =&gt; client(4): GPSD,O=RMC 1122721773.20 0.005 37.224183 
-121.766588          ?        ?        ?   0.0000    0.010          
?             ?        ?        ?
gpsd: Read 81 chars to buffer offset 312 (total 393): 
2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a2447504753562c332c312c31322c33302c
gpsd: Packet type 0 accepted 64 = 
2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a
gpsd: Packet discard of 64, chars remaining is 329 = 
2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34312c32312c36302c3330302c34302c32322c30372c3231332c33372a37450d0a2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34332c32392c32372c3038382c33372c31382c34302c3230352c35322a37430d0a2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c
gpsd: &lt;= GPS: 
$GPGSA,A,3,47,,30,10,21,,06,16,29,18,15,,26,,01.6,00.8,01.4*09
gpsd: GPS has a fix (status=1, mode=3).
gpsd: =&gt; client(4): GPSD,O=GSA 1122721773.20 0.005 37.224183 
-121.766588          ?  6.40 11.20   0.0000    0.010          
?             ? 256.00        ?
gpsd: Read 64 chars to buffer offset 329 (total 393): 
2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34312c32312c36302c3330302c34302c32322c30372c3231332c33
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34312c32312c36302c3330302c34302c32322c30372c3231332c33372a37450d0a
gpsd: Packet discard of 70, chars remaining is 323 = 
2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34332c32392c32372c3038382c33372c31382c34302c3230352c35322a37430d0a2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c30392c3130342c30302a37440d0a244750524d432c3131303933332e32352c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30312c303030
gpsd: &lt;= GPS: 
$GPGSV,3,1,12,30,24,191,39,10,21,042,41,21,60,300,40,22,07,213,37*7E
gpsd: Partial satellite data (1 of 3).
gpsd: Read 70 chars to buffer offset 323 (total 393): 
2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34332c32392c32372c3038382c33372c31382c34302c3230352c35322a37430d0a
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34332c32392c32372c3038382c33372c31382c34302c3230352c35322a37430d0a
gpsd: Packet discard of 70, chars remaining is 323 = 
2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c30392c3130342c30302a37440d0a244750524d432c3131303933332e32352c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30312c3030302e30302c3330303730352c31342e39352c452c442a32310d0a2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c
gpsd: &lt;= GPS: 
$GPGSV,3,2,12,06,80,106,52,16,19,314,43,29,27,088,37,18,40,205,52*7C
gpsd: Partial satellite data (2 of 3).
gpsd: Read 70 chars to buffer offset 323 (total 393): 
2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c30392c3130342c30302a37440d0a
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33362c33352c30392c3130342c30302a37440d0a
gpsd: Packet discard of 70, chars remaining is 323 = 
244750524d432c3131303933332e32352c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30312c3030302e30302c3330303730352c31342e39352c452c442a32310d0a2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a2447504753562c332c312c31322c34372c32362c32362c3130382c34322c34372c31352c3235302c33372c33352c30392c3130
gpsd: &lt;= GPS: 
$GPGSV,3,3,12,15,27,270,47,26,26,108,42,47,15,250,36,35,09,104,00*7D
gpsd: Satellite data OK.
gpsd: =&gt; client(4): GPSD,Y=GSV ? 12:30 24 191 39 1:10 21 42 41 1:21 60 
300 40 1:22 7 213 37 0:6 80 106 52 1:16 19 314 43 1:29 27 88 37 1:18 40 
205 52 1:15 27 270 47 1:26 26 108 42 1:47 15 250 36 1:35 9 104 0 0:
gpsd: Read 29 chars to buffer offset 323 (total 352): 
244750524d432c3131303933332e32352c412c333731332e3435303939
gpsd: Packet type 0 accepted 81 = 
244750524d432c3131303933332e32352c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30312c3030302e30302c3330303730352c31342e39352c452c442a32310d0a
gpsd: Packet discard of 81, chars remaining is 271 = 
2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a2447504753562c332c312c31322c34372c32362c32362c3130382c34322c34372c31352c3235302c33372c33352c30392c3130342c30302a37430d0a244750524d432c3131303933332e36352c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30312c3030302e30302c3330303730352c31342e3935
gpsd: &lt;= GPS: 
$GPRMC,110933.25,A,3713.45099,N,12145.99527,W,000.01,000.00,300705,14.95,E,D*21 

gpsd: GPS has a fix (status=1, mode=0).
gpsd: =&gt; client(4): GPSD,O=RMC 1122721773.25 0.005 37.224183 
-121.766588          ?        ?        ?   0.0000    0.005          
?             ?        ?        ?
gpsd: Read 69 chars to buffer offset 271 (total 340): 
2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a2447504753
gpsd: Packet type 0 accepted 64 = 
2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a
gpsd: Packet discard of 64, chars remaining is 276 = 
2447504753562c332c312c31322c34372c32362c32362c3130382c34322c34372c31352c3235302c33372c33352c30392c3130342c30302a37430d0a244750524d432c3131303933332e36352c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30312c3030302e30302c3330303730352c31342e39352c452c442a32350d0a2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c
gpsd: &lt;= GPS: 
$GPGSA,A,3,47,,30,10,21,,06,16,29,18,15,,26,,01.6,00.8,01.4*09
gpsd: GPS has a fix (status=1, mode=3).
gpsd: =&gt; client(4): GPSD,O=GSA 1122721773.25 0.005 37.224183 
-121.766588          ?  6.40 11.20   0.0000    0.005          
?             ? 256.00        ?
gpsd: Read 12 chars to buffer offset 276 (total 288): 
2447504753562c332c312c31
gpsd: Packet discard of 60, chars remaining is 228 = 
244750524d432c3131303933332e36352c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30312c3030302e30302c3330303730352c31342e39352c452c442a32350d0a2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34302c32312c36302c3330302c34
gpsd: Read 11 chars to buffer offset 228 (total 239): 244750524d432c31313039
gpsd: Packet type 0 accepted 81 = 
244750524d432c3131303933332e36352c412c333731332e34353039392c4e2c31323134352e39393532372c572c3030302e30312c3030302e30302c3330303730352c31342e39352c452c442a32350d0a
gpsd: Packet discard of 81, chars remaining is 158 = 
2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34302c32312c36302c3330302c34302c32322c30372c3231332c33372a37460d0a2447504753562c332c322c31322c30362c38302c3130362c
gpsd: &lt;= GPS: 
$GPRMC,110933.65,A,3713.45099,N,12145.99527,W,000.01,000.00,300705,14.95,E,D*25 

gpsd: GPS has a fix (status=1, mode=0).
gpsd: =&gt; client(4): GPSD,O=RMC 1122721773.65 0.005 37.224183 
-121.766588          ?        ?        ?   0.0000    0.005          
?             ?        ?        ?
gpsd: Read 23 chars to buffer offset 158 (total 181): 
2447504753412c412c332c34372c2c33302c31302c3231
gpsd: Packet type 0 accepted 64 = 
2447504753412c412c332c34372c2c33302c31302c32312c2c30362c31362c32392c31382c31352c2c32362c2c30312e362c30302e382c30312e342a30390d0a
gpsd: Packet discard of 64, chars remaining is 117 = 
2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34302c32312c36302c3330302c34302c32322c30372c3231332c33372a37460d0a2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34342c32392c32372c30
gpsd: &lt;= GPS: 
$GPGSA,A,3,47,,30,10,21,,06,16,29,18,15,,26,,01.6,00.8,01.4*09
gpsd: GPS has a fix (status=1, mode=3).
gpsd: =&gt; client(4): GPSD,O=GSA 1122721773.65 0.005 37.224183 
-121.766588          ?  6.40 11.20   0.0000    0.005          
?             ? 32.00        ?
gpsd: Read 23 chars to buffer offset 117 (total 140): 
2447504753562c332c312c31322c33302c32342c313931
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c312c31322c33302c32342c3139312c33392c31302c32312c3034322c34302c32312c36302c3330302c34302c32322c30372c3231332c33372a37460d0a
gpsd: Packet discard of 70, chars remaining is 70 = 
2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34342c32392c32372c3038382c33372c31382c34302c3230352c35312a37380d0a
gpsd: &lt;= GPS: 
$GPGSV,3,1,12,30,24,191,39,10,21,042,40,21,60,300,40,22,07,213,37*7F
gpsd: Partial satellite data (1 of 3).
gpsd: Read 12 chars to buffer offset 70 (total 82): 2447504753562c332c322c31
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c322c31322c30362c38302c3130362c35322c31362c31392c3331342c34342c32392c32372c3038382c33372c31382c34302c3230352c35312a37380d0a
gpsd: Packet discard of 70, chars remaining is 12 = 2447504753562c332c332c31
gpsd: &lt;= GPS: 
$GPGSV,3,2,12,06,80,106,52,16,19,314,44,29,27,088,37,18,40,205,51*78
gpsd: Partial satellite data (2 of 3).
gpsd: Read 11 chars to buffer offset 12 (total 23): 2447504753562c332c332c
gpsd: Read 12 chars to buffer offset 23 (total 35): 2c34372c32362c32362c3130
gpsd: Read 23 chars to buffer offset 35 (total 58): 
382c34322c34372c31352c3235302c33372c33352c3039
gpsd: Read 12 chars to buffer offset 58 (total 70): 2c3130342c30302a37430d0a
gpsd: Packet type 0 accepted 70 = 
2447504753562c332c332c31322c31352c32372c3237302c34372c32362c32362c3130382c34322c34372c31352c3235302c33372c33352c30392c3130342c30302a37430d0a
gpsd: Packet discard of 70, chars remaining is 0 =
gpsd: &lt;= GPS: 
$GPGSV,3,3,12,15,27,270,47,26,26,108,42,47,15,250,37,35,09,104,00*7C
gpsd: Satellite data OK.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000911.html">[Gpsd-users] Input buffer overrun
</A></li>
	<LI>Next message: <A HREF="000914.html">[Gpsd-users] Input buffer overrun
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#913">[ date ]</a>
              <a href="thread.html#913">[ thread ]</a>
              <a href="subject.html#913">[ subject ]</a>
              <a href="author.html#913">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
