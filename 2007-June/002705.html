<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] 1PPS does not work with gpsd in F7
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%201PPS%20does%20not%20work%20with%20gpsd%20in%20F7&In-Reply-To=%3C466A6C7E.9090806%40aus-city.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002704.html">
   <LINK REL="Next"  HREF="002703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] 1PPS does not work with gpsd in F7</H1>
    <B>David Cottle</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%201PPS%20does%20not%20work%20with%20gpsd%20in%20F7&In-Reply-To=%3C466A6C7E.9090806%40aus-city.com%3E"
       TITLE="[Gpsd-users] 1PPS does not work with gpsd in F7">webmaster at aus-city.com
       </A><BR>
    <I>Sat Jun  9 11:01:50 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002704.html">[Gpsd-users] 1PPS does not work with gpsd in F7
</A></li>
        <LI>Next message: <A HREF="002703.html">[Gpsd-users] gpsd autostart on Mac OSX?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2705">[ date ]</a>
              <a href="thread.html#2705">[ thread ]</a>
              <a href="subject.html#2705">[ subject ]</a>
              <a href="author.html#2705">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Is anyone able to work on this fault how PPS is detected on DCD at the
startup of gpsd running on Fedora 7, but then it gives up and refuses
to run 1PPS?  I got a bug opened on redhat bugzilla, but
matt&amp;truch.net has no experience with PPS and gpsd and its going no
where :(.

<A HREF="https://bugzilla.redhat.com/bugzilla/show_bug.cgi?243026">https://bugzilla.redhat.com/bugzilla/show_bug.cgi?243026</A>

Thanks!

David


David Cottle wrote:
&gt;<i> I was working with Gary who has been extremely helpful and gpsd on
</I>&gt;<i> Fedora 7 has a bug that 1PPS does not work.
</I>&gt;<i>
</I>&gt;<i> In the diagnostic dump of the startup, you can see during trying to
</I>&gt;<i>  detect and sync to the GPS, it detects the DCD line and 1PPS, but
</I>&gt;<i> rejects as its not synced up.
</I>&gt;<i>
</I>&gt;<i> It continues the DCD / PPS messages until a bit before it tries
</I>&gt;<i> 4800 nmea mode.  Then it simply does not try DCD / PPS anymore and
</I>&gt;<i> runs only standard mode.
</I>&gt;<i>
</I>&gt;<i> Its a bug in this build for F7.  Now its detecting the DCD / PPS at
</I>&gt;<i>  the start.
</I>&gt;<i>
</I>&gt;<i> Here is extract at the start..
</I>&gt;<i>
</I>&gt;<i> gpsd: packet sniff finds type -1 gpsd: pps-detect (DCD) on
</I>&gt;<i> /dev/ttyS0 changed to 1 gpsd: PPS pulse rejected. No fix.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> By the time its in 4800 baud nmea I see no more pps messages, but
</I>&gt;<i> there are many as its starting, it does see the PPS.
</I>&gt;<i>
</I>&gt;<i> I sent the full startup to 1 minute dump /usr/sbin/gpsd -nN -D6
</I>&gt;<i> /dev/ttyS0 &gt; gpsd.log 2&gt;&amp;1   to Gary, and I have a copy here if
</I>&gt;<i> needed.
</I>&gt;<i>
</I>&gt;<i> Can we get this looked at please?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> David
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> David Cottle wrote:
</I>&gt;&gt;<i> After a few days of filing bugs and getting kernel, ntp checked,
</I>&gt;&gt;<i> there is a bug in gpsd.  In F7 the 1PPS does not work.
</I>&gt;<i>
</I>&gt;&gt;<i> ntpq -p reports only the SHM(0) .GPS. is *, the SHM(1) .GPS1. is
</I>&gt;&gt;<i> totally blank.
</I>&gt;<i>
</I>&gt;&gt;<i> We even tried forcing a FC6 version of NTP onto F7 and it still
</I>&gt;&gt;<i> was the same.  Its in nmea mode, but the 1PPS worked in FC6.  The
</I>&gt;&gt;<i> same server was updated to F7.
</I>&gt;<i>
</I>&gt;&gt;<i> gpsd is being started: /usr/sbin/gpsd $(GPSD_OPTS) -n -N
</I>&gt;&gt;<i> /dev/ttys0 &amp;
</I>&gt;<i>
</I>&gt;&gt;<i> Verified in ps aux as root is running it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________ Gpsd-users mailing
</I>&gt;<i> list <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">Gpsd-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">https://lists.berlios.de/mailman/listinfo/gpsd-users</A>
</I>&gt;<i>
</I>
- ----------------------------------------------------------------------

_______________________________________________
Gpsd-users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">Gpsd-users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">https://lists.berlios.de/mailman/listinfo/gpsd-users</A>

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (GNU/Linux)
Comment: Using GnuPG with Fedora - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFGamx9i1lOcz5YUMgRAu2iAJ0aJTZfHecxtkqgZ9bOY7GldZ6rewCfQ0rk
vUu7+mWya/Tga+gw0XJoDlg=
=qwfm
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002704.html">[Gpsd-users] 1PPS does not work with gpsd in F7
</A></li>
	<LI>Next message: <A HREF="002703.html">[Gpsd-users] gpsd autostart on Mac OSX?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2705">[ date ]</a>
              <a href="thread.html#2705">[ thread ]</a>
              <a href="subject.html#2705">[ subject ]</a>
              <a href="author.html#2705">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
