<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] BT GPS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20BT%20GPS&In-Reply-To=%3Ca25fb840906030455p667326fdhada00179b544673c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003766.html">
   <LINK REL="Next"  HREF="003765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] BT GPS</H1>
    <B>Adorian Ardelean</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20BT%20GPS&In-Reply-To=%3Ca25fb840906030455p667326fdhada00179b544673c%40mail.gmail.com%3E"
       TITLE="[Gpsd-users] BT GPS">mynature at gmail.com
       </A><BR>
    <I>Wed Jun  3 13:55:06 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003766.html">[Gpsd-users] BT GPS
</A></li>
        <LI>Next message: <A HREF="003765.html">[Gpsd-users] BT GPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3767">[ date ]</a>
              <a href="thread.html#3767">[ thread ]</a>
              <a href="subject.html#3767">[ subject ]</a>
              <a href="author.html#3767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Eric,

Yes. Altitude is there but in 95% case it is not. I get most of times A=nan.
Experience with pyS60 tells me that it should be there most of times. I am
not sure what command to use for generating the dump. However, below you can
see what php reads from socket following a php example presented  in gpsd
source archive:

GPSD,S=1,P=45.722103900 21.170215600,A=nan,M=3,Q=6 0.00 1.80 1.30 1.97
3.54,Y=GND 1244029194.000 8:8 75 243 28 1:10 49 295 33 1:7 60 52 31 1:24 12
315 24 0:13 33 93 20 1:2 12 237 15 1:25 38 57 23 1:3 6 54 0 0:

GPSD,S=1,P=45.722096689 21.170235009,A=87.750,M=3,Q=6 0.00 1.80 1.30 1.97
3.54,Y=MID2 1244029260.000 7:8 76 243 30 1:10 50 295 32 1:7 59 52 28 1:24 12
313 26 0:13 33 93 18 1:2 12 237 16 1:25 38 57 20 1:

GPSD,S=1,P=45.722079300 21.170251300,A=nan,M=3,Q=6 0.00 1.80 1.30 1.97
3.54,Y=GND 1244029277.000 8:8 76 244 27 1:10 50 294 29 1:7 59 52 27 1:24 12
313 26 0:13 33 93 16 1:2 11 237 15 1:25 37 57 16 1:3 6 54 0 0:

Alternatively:
gpspipe -r returns something like rows below:
GPSD,R=1
$GPGGA,204552,4543.3235,N,02110.2145,E,1,06,1.80,,38.318,M,,*36
$GPRMC,000000,A,4543.3235,N,02110.2145,E,0.0000,0.000,000000,,*2C
$GPGSA,A,3,08,10,07,25,13,02,,,,,,,0.0,1.8,1.3*30
$PGRME,1.16,M,1.25,M,0.00,M*1E
$GPGGA,114227,4543.3235,N,02110.2142,E,1,06,1.80,98.85,M,38.318,M,,*75
$GPRMC,114227,A,4543.3235,N,02110.2142,E,2.7590,9.923,030609,,*2C
$GPGSA,A,3,08,10,07,25,13,02,,,,,,,0.0,1.8,1.3*30
$GPGGA,204552,4543.3240,N,02110.2145,E,1,06,2.40,,38.318,M,,*3B
$GPRMC,000000,A,4543.3240,N,02110.2145,E,0.0000,0.000,000000,,*2E
$GPGSA,A,3,08,10,07,25,13,02,,,,,,,0.0,2.4,1.3*3F
$PGRME,1.19,M,1.27,M,0.00,M*13
$GPGSV,3,1,09,08,76,244,25,10,50,294,29,07,58,052,28,24,12,313,23*7C
$GPGSV,3,2,09,13,32,094,14,02,11,237,15,25,37,057,24,03,06,052,16*78
$GPGSV,3,3,09,28,26,169,15*44
$GPGGA,114228,4543.3239,N,02110.2142,E,1,05,2.40,99.56,M,38.318,M,,*75
$GPRMC,114228,A,4543.3239,N,02110.2142,E,1.1372,350.386,030609,,*2A
$GPGSA,A,3,08,10,07,25,02,,,,,,,,0.0,2.4,1.3*3D
$GPGGA,204552,4543.3241,N,02110.2146,E,1,05,1.80,,38.318,M,,*35
$GPRMC,000000,A,4543.3241,N,02110.2146,E,0.0000,0.000,000000,,*2C
$GPGSA,A,3,08,10,07,25,02,,,,,,,,0.0,1.8,1.3*32
$PGRME,1.22,M,1.29,M,0.00,M*15
$GPGGA,114229,4543.3239,N,02110.2142,E,1,06,1.80,99.56,M,38.318,M,,*78
$GPRMC,114229,A,4543.3239,N,02110.2142,E,1.2938,337.061,030609,,*27
$GPGSA,A,3,08,10,07,25,13,02,,,,,,,0.0,1.8,1.3*30
$GPGGA,204552,4543.3244,N,02110.2146,E,1,06,2.40,,38.318,M,,*3C
$GPRMC,000000,A,4543.3244,N,02110.2146,E,0.0000,0.000,000000,,*29
$GPGSA,A,3,08,10,07,25,13,02,,,,,,,0.0,2.4,1.3*3F
$PGRME,1.23,M,1.31,M,0.00,M*1D
$GPGGA,114230,4543.3243,N,02110.2142,E,1,05,2.40,100.28,M,38.318,M,,*49
$GPRMC,114230,A,4543.3243,N,02110.2142,E,1.3982,1.503,030609,,*25
$GPGSA,A,3,08,10,07,13,02,,,,,,,,0.0,2.4,1.3*38
$GPGGA,204552,4543.3248,N,02110.2146,E,1,05,2.40,,38.318,M,,*33
$GPRMC,000000,A,4543.3248,N,02110.2146,E,0.0000,0.000,000000,,*25
$GPGSA,A,3,08,10,07,13,02,,,,,,,,0.0,2.4,1.3*38
$PGRME,1.25,M,1.32,M,0.00,M*18
$GPGGA,114231,4543.3247,N,02110.2142,E,1,05,2.40,101.00,M,38.318,M,,*47
$GPRMC,114231,A,4543.3247,N,02110.2142,E,1.7953,356.738,030609,,*23
$GPGSA,A,3,08,10,07,13,02,,,,,,,,0.0,2.4,1.3*38
$GPGGA,204552,4543.3253,N,02110.2143,E,1,05,2.40,,38.318,M,,*3C
$GPRMC,000000,A,4543.3253,N,02110.2143,E,0.0000,0.000,000000,,*2A
$GPGSA,A,3,08,10,07,13,02,,,,,,,,0.0,2.4,1.3*38
$PGRME,1.26,M,1.34,M,0.00,M*1D
$GPGGA,114232,4543.3250,N,02110.2142,E,1,05,2.40,101.71,M,38.318,M,,*44
$GPRMC,114232,A,4543.3250,N,02110.2142,E,1.5677,1.340,030609,,*27
$GPGSA,A,3,08,10,07,13,02,,,,,,,,0.0,2.4,1.3*38
$GPGGA,204552,4543.3258,N,02110.2138,E,1,05,2.40,,38.318,M,,*3B
$GPRMC,000000,A,4543.3258,N,02110.2138,E,0.0000,0.000,000000,,*2D
$GPGSA,A,3,08,10,07,13,02,,,,,,,,0.0,2.4,1.3*38
$PGRME,1.27,M,1.36,M,0.00,M*1E
$GPGSV,2,1,08,08,76,244,26,10,50,294,29,07,58,052,27,24,12,313,23*70
$GPGSV,2,2,08,13,32,094,12,02,11,237,15,03,06,052,15,28,26,169,15*7E
$GPGGA,114233,4543.3259,N,02110.2135,E,1,05,2.40,102.89,M,38.318,M,,*48
$GPRMC,114233,A,4543.3259,N,02110.2135,E,0.7167,268.261,030609,,*25
$GPGSA,A,3,08,10,07,13,02,,,,,,,,0.0,2.4,1.3*38
$GPGGA,204552,4543.3256,N,02110.2136,E,1,05,2.80,,38.318,M,,*37


Maybe this gives a hint. if not please tell me other gpsd command to run so
you get the right information.

All the best,
Adi


On Wed, Jun 3, 2009 at 2:15 PM, Eric S. Raymond &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">esr at thyrsus.com</A>&gt; wrote:

&gt;<i> Adorian Ardelean &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">mynature at gmail.com</A>&gt;:
</I>&gt;<i> &gt; In the end I have managed to read BT GPS data.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Very helpful for this was this blog material:
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://blogs.srijan.in/2008/01/19/bluetooth-gps-devices-with-linux/#hcid.conf">http://blogs.srijan.in/2008/01/19/bluetooth-gps-devices-with-linux/#hcid.conf</A>
</I>&gt;<i> &gt; for some reason in my eeebuntu installation /etc/bluetooth/hcid.conf was
</I>&gt;<i> &gt; empty. a copy and paste and a pin edit solved the probelm.
</I>&gt;<i>
</I>&gt;<i> That's herpful.  I've asked Lukasz Stelmach to revise our Bluetooth recipe
</I>&gt;<i> in light of that page.
</I>&gt;<i>
</I>&gt;<i> &gt; Now following php examples  I can output DD coordinates. However, I
</I>&gt;<i> noticed
</I>&gt;<i> &gt; that altitude is most of times 95%  A=nan.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; GPSD,S=1,P=45.722106700 21.170223200,A=nan,M=3,Q=10 0.00 0.80 1.30 1.97
</I>&gt;<i> &gt; 3.54,Y=MID4 1244022657.990 10:8 25 205 21 1:7 63 187 20 1:20 16 133 15
</I>&gt;<i> 1:13
</I>&gt;<i> &gt; 72 28 35 1:16 18 48 18 1:25 79 117 29 1:4 38 238 12 1:10 7 307 33 1:23 40
</I>&gt;<i> 70
</I>&gt;<i> &gt; 31 1:2 33 286 34 1:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have used the same BT GPS on a mobile phone with Symbian and pyS60 and
</I>&gt;<i> &gt; parsing $GPGCA sentences always returns altitude values. I would like to
</I>&gt;<i> &gt; know if it is a way to make gpsd return altitude values from GPGCA or
</I>&gt;<i> other
</I>&gt;<i> &gt; similar GPS NMEA sentences.
</I>&gt;<i>
</I>&gt;<i> Do you mean the $GPGGA sentence?  If so, gpsd should already get altitude,
</I>&gt;<i> and does on all my test devices and Chris's. There might be some firmware
</I>&gt;<i> problem with your specific device.  If you send me a dump of typical output
</I>&gt;<i> I might be able to diagnose this.
</I>&gt;<i> --
</I>&gt;<i>                &lt;a href=&quot;<A HREF="http://www.catb.org/~esr/&lt;http://www.catb.org/%7Eesr/">http://www.catb.org/~esr/&lt;http://www.catb.org/%7Eesr/</A>&gt;&quot;&gt;Eric
</I>&gt;<i> S. Raymond&lt;/a&gt;
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003766.html">[Gpsd-users] BT GPS
</A></li>
	<LI>Next message: <A HREF="003765.html">[Gpsd-users] BT GPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3767">[ date ]</a>
              <a href="thread.html#3767">[ thread ]</a>
              <a href="subject.html#3767">[ subject ]</a>
              <a href="author.html#3767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
