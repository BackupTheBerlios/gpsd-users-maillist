<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] GPSD, NTP and fudge
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20GPSD%2C%20NTP%20and%20fudge&In-Reply-To=%3C1488.59.167.79.76.1219352973.squirrel%40wireless.org.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003330.html">
   <LINK REL="Next"  HREF="003338.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] GPSD, NTP and fudge</H1>
    <B>Jason Hecker</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20GPSD%2C%20NTP%20and%20fudge&In-Reply-To=%3C1488.59.167.79.76.1219352973.squirrel%40wireless.org.au%3E"
       TITLE="[Gpsd-users] GPSD, NTP and fudge">jhecker at wireless.org.au
       </A><BR>
    <I>Thu Aug 21 23:09:33 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003330.html">[Gpsd-users] GPSD, NTP and fudge
</A></li>
        <LI>Next message: <A HREF="003338.html">[Gpsd-users] GPSD, NTP and fudge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3332">[ date ]</a>
              <a href="thread.html#3332">[ thread ]</a>
              <a href="subject.html#3332">[ subject ]</a>
              <a href="author.html#3332">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> I have an et-102 (SiRF II based) with pps output, and it also
</I>&gt;<i> slops out the NMEA back and forth over a full second's worth of
</I>&gt;<i> spew.
</I>
It's a PG32 module (SiRF III).  I have disabled all messages except for
RMC as we only need location and time.  We were able to establish that the
NMEA output (as far as seconds accuracy goes) is aligned to the PPS pulse
that was emitted immediately prior to the message.

I agree with your slop sentiment now...  I have set the time1 fudge to 0
to get a true offset.  Here's what ntpq -p says this morning:

     remote           refid      st t when poll reach   delay   offset 
jitter
==============================================================================
-SHM(0)          .GPS.            6 l   16   16  377    0.000  -448.03  
8.544
+192.168.1.17    64.73.32.134     3 u  661 1024  377    0.670   14.926  
1.884
*resolv.internod 128.250.33.242   2 u  793 1024  377   16.912   18.347  
0.117
+core.narx.net   128.250.37.2     2 u  718 1024  377   83.781  -59.860  
2.391

All day yesterday the offset was about -1.440 and causing me to tear my
hair out (almost)!  It seems to have changed overnight.

&gt;<i> If it were consistently on either side of the second's boundry,
</I>&gt;<i> that could be &quot;fudged&quot; in ntp, however the NMEA data appears useless
</I>&gt;<i> in conjunction with PPS and ntp.
</I>
Well this is hopeless.  I need accurate bloody time.  &amp;*%^&amp;#@%^&amp;!!!!

&gt;<i> Even more sadly, the PPS output itself seems fine, with the single
</I>&gt;<i> digit microsecond performance you'd expect, if you &quot;prefer&quot; another
</I>
This seconds slop is really quite a problem.  The PPS does appear fine -
annoyingly in their wisdom the width of the PPS pulse is only 1us and not
adjustable (AFAIK)!  That's fine to catch on an embedded micro but bad to
hook up to DCD for NTP use.

Alright - well, we'll be making a new spin of the hardware at some point
and I hope to be able to use GPSD.  Can anyone recommend a good GPS OEM
module (brand or model) that actually performs as expected??


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003330.html">[Gpsd-users] GPSD, NTP and fudge
</A></li>
	<LI>Next message: <A HREF="003338.html">[Gpsd-users] GPSD, NTP and fudge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3332">[ date ]</a>
              <a href="thread.html#3332">[ thread ]</a>
              <a href="subject.html#3332">[ subject ]</a>
              <a href="author.html#3332">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
