<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Bluetooth GPS Nokia LD-3W, sirfmon
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2006-September/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Bluetooth%20GPS%20Nokia%20LD-3W%2C%20sirfmon&In-Reply-To=%3C200609032331.56974.martin%40zdila.sk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001915.html">
   <LINK REL="Next"  HREF="001917.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Bluetooth GPS Nokia LD-3W, sirfmon</H1>
    <B>Martin Zdila</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Bluetooth%20GPS%20Nokia%20LD-3W%2C%20sirfmon&In-Reply-To=%3C200609032331.56974.martin%40zdila.sk%3E"
       TITLE="[Gpsd-users] Bluetooth GPS Nokia LD-3W, sirfmon">martin at zdila.sk
       </A><BR>
    <I>Sun Sep  3 23:31:56 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="001915.html">[Gpsd-users] Bluetooth GPS Nokia LD-3W, sirfmon
</A></li>
        <LI>Next message: <A HREF="001917.html">[Gpsd-users] Bluetooth GPS Nokia LD-3W, sirfmon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1916">[ date ]</a>
              <a href="thread.html#1916">[ thread ]</a>
              <a href="subject.html#1916">[ subject ]</a>
              <a href="author.html#1916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I have the solution:

By Nils Faerber nils.faerber at kernelconcepts.de:

The problem is that the LD3 seems to close the connection when it is set
to SIRF. And the mode is reset to NMEA when connection is dropped. So
effectively you switch back and forth.
How did you connect to it? Did you rfcomm connect or bind the device?
If you used bind, try to use connect instead and try several times.
IIRC I connected to LD3 and then started sirfmon two or three times in a
row.

PS: you could add it to your faq :-)

On Sunday 03 September 2006 20:10, Martin Zdila wrote:
&gt;<i> Hello
</I>&gt;<i>
</I>&gt;<i> I've purchased Bluetooth GPS Nokia LD-3W. It works with linux using gpsd
</I>&gt;<i> (DEVICES=&quot;/dev/rfcomm4&quot;). I would like to switch off static navigation, but
</I>&gt;<i> I can't change the mode from NMEA to Sirf:
</I>&gt;<i>
</I>&gt;<i> sirfmon /dev/rfcomm4
</I>&gt;<i> Hunting at speed 9600, 8N1
</I>&gt;<i> Switching to SiRF mode...
</I>&gt;<i> $PSRF100,0,0,8,1,0*33
</I>&gt;<i> Can't sync up with device!
</I>&gt;<i>
</I>&gt;<i> some output from strace:
</I>&gt;<i> open(&quot;/dev/rfcomm4&quot;, O_RDWR)            = 3
</I>&gt;<i> ioctl(3, SNDCTL_TMR_TIMEBASE or TCGETS,
</I>&gt;<i> {B9600 -opost -isig -icanon -echo ...}) = 0
</I>&gt;<i> ioctl(3, TCFLSH, 0x2)                   = 0
</I>&gt;<i> ioctl(3, SNDCTL_TMR_TIMEBASE or TCGETS,
</I>&gt;<i> {B9600 -opost -isig -icanon -echo ...}) = 0
</I>&gt;<i> ioctl(3, SNDCTL_TMR_START or TCSETS, {B9600 -opost -isig -icanon -echo
</I>&gt;<i> ...}) = 0
</I>&gt;<i> ioctl(3, SNDCTL_TMR_TIMEBASE or TCGETS,
</I>&gt;<i> {B9600 -opost -isig -icanon -echo ...}) = 0
</I>&gt;<i> ioctl(3, TCFLSH, 0x2)                   = 0
</I>&gt;<i> write(2, &quot;Hunting at speed 9600, 8N1\n&quot;, 27Hunting at speed 9600, 8N1
</I>&gt;<i> ) = 27
</I>&gt;<i> read(3, &quot;$&quot;, 1)                         = 1
</I>&gt;<i> read(3, &quot;G&quot;, 1)                         = 1
</I>&gt;<i> read(3, &quot;P&quot;, 1)                         = 1
</I>&gt;<i> write(2, &quot;Switching to SiRF mode...\n&quot;, 26Switching to SiRF mode...
</I>&gt;<i> ) = 26
</I>&gt;<i> write(2, &quot;$PSRF100,0,0,8,1,0*33\r\n&quot;, 23$PSRF100,0,0,8,1,0*33
</I>&gt;<i> ) = 23
</I>&gt;<i> write(3, &quot;$PSRF100,0,0,8,1,0*33\r\n&quot;, 23) = 23
</I>&gt;<i> write(2, &quot;Can\'t sync up with device!\n&quot;, 27Can't sync up with device!
</I>&gt;<i> ) = 27
</I>&gt;<i> exit_group(1)                           = ?
</I>&gt;<i> Process 5078 detached
</I>&gt;<i>
</I>&gt;<i> Could anybody help me with this?
</I>&gt;<i>
</I>&gt;<i> Thanks in advance :-)
</I>
-- 
Martin Zdila, Ing.
+421 908 363 848
<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">martin at zdila.sk</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001915.html">[Gpsd-users] Bluetooth GPS Nokia LD-3W, sirfmon
</A></li>
	<LI>Next message: <A HREF="001917.html">[Gpsd-users] Bluetooth GPS Nokia LD-3W, sirfmon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1916">[ date ]</a>
              <a href="thread.html#1916">[ thread ]</a>
              <a href="subject.html#1916">[ subject ]</a>
              <a href="author.html#1916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
