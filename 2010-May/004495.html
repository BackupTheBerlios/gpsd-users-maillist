<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Using garmin devices in new distros (no ttyUSB)?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Using%20garmin%20devices%20in%20new%20distros%20%28no%20ttyUSB%29%3F&In-Reply-To=%3Cop.vdaavitp16tawo%40esprimol2%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004493.html">
   <LINK REL="Next"  HREF="004496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Using garmin devices in new distros (no ttyUSB)?</H1>
    <B>Michal Zatloukal</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Using%20garmin%20devices%20in%20new%20distros%20%28no%20ttyUSB%29%3F&In-Reply-To=%3Cop.vdaavitp16tawo%40esprimol2%3E"
       TITLE="[Gpsd-users] Using garmin devices in new distros (no ttyUSB)?">myxal.mxl at gmail.com
       </A><BR>
    <I>Wed May 26 01:15:08 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004493.html">[Gpsd-users] Using garmin devices in new distros (no ttyUSB)?
</A></li>
        <LI>Next message: <A HREF="004496.html">[Gpsd-users] Using garmin devices in new distros (no ttyUSB)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4495">[ date ]</a>
              <a href="thread.html#4495">[ thread ]</a>
              <a href="subject.html#4495">[ subject ]</a>
              <a href="author.html#4495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Been there, done that, I do not believe it.  Just use gpsd 2.93 and
</I>&gt;<i> garmin_gps.
</I>Fair enough. I just built the 2.94 from the project page on karmic. It
does sort-of work, meaning the gpsd daemon is getting data [1] (I think),
but xgps is only displaying [3] in the middle textfield but there's
nothing on the graphics. The data seems to be there (in the packet between
gpsd and xgps) and I'm not after the graphics anyway, so I'll leave that
aside. Anyway, thanks and two minor nitpicks:

The INSTALL file says to read data from the tty device [2] - this doesn't
work for me. The command from the file fails with &quot;unable to perform all
requested operations&quot;. Leaving out the speed setting leaves me with an
idling cat. dd also can't read anything from ttyUSB0.

Second, what should I look into if I want the aforementioned Spanner
functionality - getting whatever the garmin's putting out in the form of
NMEA sentences, preferably in realtime? I'm trying to use this as a
Linux-compatible Spanner work-alike for a lab exercise, so as nice as TPV
data from gpsd is, I need it in &quot;the broken format&quot;.

Michal Zatloukal

[1] sample from gpsd -D 5 -nN /dev/ttyUSB0

gpsd: Garmin: garmin_ser_parse() Type: 0x33, Len: 0x40, chksum: 00
gpsd: Garmin: PrintSERPacket(, 0x33, 0x40, )
gpsd: Garmin: Appl, PVT Data Sz: 64
gpsd: Garmin: time_l: 1274826494
gpsd: Garmin: Appl, mode 1, status 0
gpsd: Garmin: UTC Time: 1274826494.000000
gpsd: Garmin: Geoid Separation (MSL-WGS84): from garmin -42.785248,
calculated 42.881605
gpsd: Garmin: Alt: 259.309, Epe: 19999999124047052494864384.000, Eph:
19999999124047052494864384.000, Epv: 19999999124047052494864384.000, Fix:
1, Gps_tow: 253709.000000, Lat: 48.198, Lon: 17.049, LonVel: 0.000,
LatVel: 0.000, AltVel: 0.000, MslHgt: 42.785, Leap: 15, GarminDays: 7448
gpsd: Garmin: PVT_DATA: time=1274826494.00, lat=48.20 lon=17.05 speed=0.00
track=0.00 climb=0.00 epx=29362907424262516935491584.00
epy=29362907424262516935491584.00 epv=41525421910097700436574208.00 mode=1
status=0 mask={}
gpsd: Garmin: PrintSERPacket(, 0x33, 0x40, ) = {}
gpsd: Garmin: SendPacket(), writing 6 bytes: 100600fa1003
gpsd: Garmin: PrintSERPacket(, 0x6, 00, )
gpsd: Garmin: ACK
gpsd: Garmin: PrintSERPacket(, 0x6, 00, ) = {}
gpsd: =&gt; GPS: 100600fa1003
gpsd: Garmin: SendPacket(), wrote 6 bytes
gpsd: Garmin: garmin_ser_parse( ) = {}
gpsd: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd: Garmin: garmin_ser_parse() Type: 0x72, Len: 0x54, chksum: 00
gpsd: Garmin: PrintSERPacket(, 0x72, 0x54, )
gpsd: Garmin: SAT Data Sz: 84
gpsd: Garmin:   Sat  29, snr:  2943, elev: 44, Azmth:  81, Stat: d
gpsd: Garmin:   Sat   1, snr:    -1, elev: 75, Azmth: 204, Stat: 8
gpsd: Garmin:   Sat   3, snr:    -1, elev:  7, Azmth: 280, Stat: 8
gpsd: Garmin:   Sat   5, snr:    -1, elev: 17, Azmth:  40, Stat: 8
gpsd: Garmin:   Sat   6, snr:    -1, elev: 21, Azmth: 279, Stat: 8
gpsd: Garmin:   Sat  16, snr:    -1, elev: 52, Azmth: 302, Stat: 8
gpsd: Garmin:   Sat  18, snr:    -1, elev: 20, Azmth: 150, Stat: 8
gpsd: Garmin:   Sat  21, snr:    -1, elev: 75, Azmth: 175, Stat: 8
gpsd: Garmin:   Sat  24, snr:    -1, elev: 44, Azmth: 212, Stat: 8
gpsd: Garmin:   Sat  25, snr:    -1, elev: 33, Azmth: 308, Stat: 8
gpsd: Garmin:   Sat  30, snr:    -1, elev: 12, Azmth: 145, Stat: 8
gpsd: Garmin:   Sat  31, snr:    -1, elev: 21, Azmth: 221, Stat: 8
gpsd: Garmin: SAT_DATA: visible=12 used=1 mask={SATELLITE|USED}
gpsd: Garmin: PrintSERPacket(, 0x72, 0x54, ) = {SATELLITE|USED}
gpsd: Garmin: SendPacket(), writing 6 bytes: 100600fa1003
gpsd: Garmin: PrintSERPacket(, 0x6, 00, )
gpsd: Garmin: ACK
gpsd: Garmin: PrintSERPacket(, 0x6, 00, ) = {}
gpsd: =&gt; GPS: 100600fa1003
gpsd: Garmin: SendPacket(), wrote 6 bytes
gpsd: Garmin: garmin_ser_parse( ) = {SATELLITE|USED}
gpsd: LOS matrix is singular, can't calculate DOPs - source '/dev/ttyUSB0'
gpsd: modeling errors: mode=0, masks={ONLINE|SATELLITE|USED|PACKET}
gpsd: Changed mask: {ONLINE|SATELLITE|USED|PACKET} with reliable cycle
detection
gpsd: =&gt; client(0):
{&quot;class&quot;:&quot;SKY&quot;,&quot;tag&quot;:&quot;75&quot;,&quot;device&quot;:&quot;/dev/ttyUSB0&quot;,&quot;xdop&quot;:0.00,&quot;ydop&quot;:0.00,&quot;satellites&quot;:[{&quot;PRN&quot;:29,&quot;el&quot;:44,&quot;az&quot;:81,&quot;ss&quot;:29,&quot;used&quot;:true},{&quot;PRN&quot;:1,&quot;el&quot;:75,&quot;az&quot;:204,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:3,&quot;el&quot;:7,&quot;az&quot;:280,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:5,&quot;el&quot;:17,&quot;az&quot;:40,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:6,&quot;el&quot;:21,&quot;az&quot;:279,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:16,&quot;el&quot;:52,&quot;az&quot;:302,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:18,&quot;el&quot;:20,&quot;az&quot;:150,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:21,&quot;el&quot;:75,&quot;az&quot;:175,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:24,&quot;el&quot;:44,&quot;az&quot;:212,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:25,&quot;el&quot;:33,&quot;az&quot;:308,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:30,&quot;el&quot;:12,&quot;az&quot;:145,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:31,&quot;el&quot;:21,&quot;az&quot;:221,&quot;ss&quot;:0,&quot;used&quot;:false}]}

[2]Command from the INSTALL file
stty -F /dev/ttyUSB0 ispeed 4800 &amp;&amp; cat &lt;/dev/ttyUSB0

[3]xgps &quot;line&quot;
{&quot;class&quot;:&quot;SKY&quot;,&quot;tag&quot;:&quot;75&quot;,&quot;device&quot;:&quot;/dev/ttyUSB0&quot;,&quot;xdop&quot;:0.00,&quot;ydop&quot;:0.00,&quot;satellites&quot;:[{&quot;PRN&quot;:29,&quot;el&quot;:41,&quot;az&quot;:84,&quot;ss&quot;:28,&quot;used&quot;:true},{&quot;PRN&quot;:5,&quot;el&quot;:15,&quot;az&quot;:37,&quot;ss&quot;:21,&quot;used&quot;:false},{&quot;PRN&quot;:1,&quot;el&quot;:72,&quot;az&quot;:195,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:3,&quot;el&quot;:10,&quot;az&quot;:282,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:6,&quot;el&quot;:24,&quot;az&quot;:281,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:16,&quot;el&quot;:56,&quot;az&quot;:299,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:18,&quot;el&quot;:24,&quot;az&quot;:148,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:21,&quot;el&quot;:79,&quot;az&quot;:165,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:24,&quot;el&quot;:48,&quot;az&quot;:213,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:25,&quot;el&quot;:36,&quot;az&quot;:307,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:30,&quot;el&quot;:9,&quot;az&quot;:146,&quot;ss&quot;:0,&quot;used&quot;:false},{&quot;PRN&quot;:31,&quot;el&quot;:18,&quot;az&quot;:219,&quot;ss&quot;:0,&quot;used&quot;:false}]}


-- 
Using Opera's revolutionary e-mail client: <A HREF="http://www.opera.com/mail/">http://www.opera.com/mail/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004493.html">[Gpsd-users] Using garmin devices in new distros (no ttyUSB)?
</A></li>
	<LI>Next message: <A HREF="004496.html">[Gpsd-users] Using garmin devices in new distros (no ttyUSB)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4495">[ date ]</a>
              <a href="thread.html#4495">[ thread ]</a>
              <a href="subject.html#4495">[ subject ]</a>
              <a href="author.html#4495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
