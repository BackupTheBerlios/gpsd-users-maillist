<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Problem with fix precision
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Problem%20with%20fix%20precision&In-Reply-To=%3C200809071459.59344.lists%40harbaum.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003360.html">
   <LINK REL="Next"  HREF="003362.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Problem with fix precision</H1>
    <B>Till Harbaum / Lists</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Problem%20with%20fix%20precision&In-Reply-To=%3C200809071459.59344.lists%40harbaum.org%3E"
       TITLE="[Gpsd-users] Problem with fix precision">lists at harbaum.org
       </A><BR>
    <I>Sun Sep  7 14:59:59 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003360.html">[Gpsd-users] Problem with fix precision
</A></li>
        <LI>Next message: <A HREF="003362.html">[Gpsd-users] Problem with fix precision
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3361">[ date ]</a>
              <a href="thread.html#3361">[ thread ]</a>
              <a href="subject.html#3361">[ subject ]</a>
              <a href="author.html#3361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

without looking at your code, you might have a locale problem (i ran into the same
problem and someone else contacted me because of the same). Are you using scanf
or alike to parse the values? Do you live in a country using the comma as a decimal
seperation? Then parsing may be stopped at the dot the gps returns in the string
as your locale does not accept the dot as a valid decimal seperator.

My solution was to use g_ascii_strtod() from glib instead of scanf or friends. 

Till

Am Sonntag 07 September 2008 schrieb Andrius &#352;tikonas:
&gt;<i> I was writing a C++ gpsd client application for KDE using the sample code
</I>&gt;<i> from gpsmm_test.cpp
</I>&gt;<i> However, in callback function all double variables in 'p-&gt;fix' are rounded
</I>&gt;<i> to integers even though unparsed data in 'char* buf' has correct precision.
</I>&gt;<i> Maybe someone can help me?
</I>&gt;<i> My source code with can be found at:
</I>&gt;<i> <A HREF="http://filebin.ca/jduan/kgps.tar.bz2">http://filebin.ca/jduan/kgps.tar.bz2</A>
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Andrius &#352;tikonas
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gpsd-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">Gpsd-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">https://lists.berlios.de/mailman/listinfo/gpsd-users</A>
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003360.html">[Gpsd-users] Problem with fix precision
</A></li>
	<LI>Next message: <A HREF="003362.html">[Gpsd-users] Problem with fix precision
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3361">[ date ]</a>
              <a href="thread.html#3361">[ thread ]</a>
              <a href="subject.html#3361">[ subject ]</a>
              <a href="author.html#3361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
