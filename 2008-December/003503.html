<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] problem with Garmin 16x HVS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20problem%20with%20Garmin%2016x%20HVS&In-Reply-To=%3C49426532.1060009%40mpia.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003501.html">
   <LINK REL="Next"  HREF="003504.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] problem with Garmin 16x HVS</H1>
    <B>Balazs Csak</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20problem%20with%20Garmin%2016x%20HVS&In-Reply-To=%3C49426532.1060009%40mpia.de%3E"
       TITLE="[Gpsd-users] problem with Garmin 16x HVS">csak at mpia-hd.mpg.de
       </A><BR>
    <I>Fri Dec 12 14:20:50 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003501.html">[Gpsd-users] iGPS-500 works with gpsd
</A></li>
        <LI>Next message: <A HREF="003504.html">[Gpsd-users] problem with Garmin 16x HVS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3503">[ date ]</a>
              <a href="thread.html#3503">[ thread ]</a>
              <a href="subject.html#3503">[ subject ]</a>
              <a href="author.html#3503">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear all,





I'm trying to use gpsd + ntp on a linux box. My GPS hardware is a Garmin 16x 
HVS, and we made a home-built converter to connect it to the serial port.


PPS pin was connected to DCD in three configurations:

1. Without any conversion, so PPS signal has TTL levels.

2. Using a MAX232 IC to convert TTL to RS232 conform signal.

3. As in 2., but the RS232 signal was inverted with a 7404 IC.





I've compiled gpsd using these options:


--enable-pps-on-cts --enable-garmintxt  --disable-reconfigure



Ntp settings:

...

server 127.127.28.0 minpoll 4
fudge 127.127.28.0 time1 0.420 refid GPS

server 127.127.28.1 minpoll 4 prefer
fudge 127.127.28.1 refid PPS

...



It seems that the whole stuff runs without problem. Gpsd reads the NMEA 
sentences, the PPS signal, and ntp also find and use these. The problem is that 
finally there is always a delay in our clock compared to other time servers by 
ntpdate. The length of the delay is always exactly the same as the length of PPS 
pulse, independently of the hardware configuration (1, 2 or 3).

We adjusted the PPS pulse length between 80 and 600 msec.




Anyone have an idea what might be wrong?


Thank you in advance,



Balazs

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003501.html">[Gpsd-users] iGPS-500 works with gpsd
</A></li>
	<LI>Next message: <A HREF="003504.html">[Gpsd-users] problem with Garmin 16x HVS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3503">[ date ]</a>
              <a href="thread.html#3503">[ thread ]</a>
              <a href="subject.html#3503">[ subject ]</a>
              <a href="author.html#3503">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
