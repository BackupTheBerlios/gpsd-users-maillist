<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] how to read AIS and GPS data on same port
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20how%20to%20read%20AIS%20and%20GPS%20data%20on%20same%20port&In-Reply-To=%3C1249478041.4160.39.camel%40jeep%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003834.html">
   <LINK REL="Next"  HREF="003836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] how to read AIS and GPS data on same port</H1>
    <B>Jan Veninga</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20how%20to%20read%20AIS%20and%20GPS%20data%20on%20same%20port&In-Reply-To=%3C1249478041.4160.39.camel%40jeep%3E"
       TITLE="[Gpsd-users] how to read AIS and GPS data on same port">veninga at familiemail.nl
       </A><BR>
    <I>Wed Aug  5 15:14:01 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003834.html">[Gpsd-users] What about gpd for tomtom??
</A></li>
        <LI>Next message: <A HREF="003836.html">[Gpsd-users] how to read AIS and GPS data on same port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3835">[ date ]</a>
              <a href="thread.html#3835">[ thread ]</a>
              <a href="subject.html#3835">[ subject ]</a>
              <a href="author.html#3835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to connect gpsd to an AIS transponder. When gpsd (via
gpsfake) reads the first lines of data it decides whether it is a GPS or
an AIS. If the first packet is a GPS packet than gpsd registers a GPS
and when later a AIS packet arrives it switches to AIS. After that it
stays on AIS. I was hoping to get both streams at the same time via:

?WATCH={&quot;TPV&quot;:true,&quot;AIS&quot;:true}

But it seams that only one protocol can be used on a single port. Did I
mis something? How can I watch both streams at the same time?

I am using the latest svn trunc

Here is an example of the data I am trying to catch:

$GPGBS,082939.00,2.4,1.5,3.9,,,,*40
$GPRMC,082940.00,A,5241.99839,N,00517.56228,E,0.003,,020809,,,A*7F
!AIVDO,1,1,,,B3aC3LP00063aS7RNpt03wl5sP06,0*39
$GPGBS,082940.00,2.4,1.5,3.9,,,,*4E
!AIVDM,1,1,,A,402E3:0000HttPGEahN7pi700`H9,0*09
$GPRMC,082941.00,A,5241.99842,N,00517.56239,E,0.013,,020809,,,A*73
!AIVDM,1,1,,B,139b&gt;85P170GbDDN2qT=<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">2ww at P</A>&lt;0&lt;,0*7A
!AIVDO,1,1,,,B3aC3LP00063aSWRNq003wlUsP06,0*7C
$GPGBS,082941.00,2.4,1.5,3.9,25,,-43.7,27.5*65
!<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">AIVDM,1,1,,A,13bcuF0P000H at FFN</A>:0rEE?<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">w at 08HO</A>,0*7F
$GPRMC,082942.00,A,5241.99845,N,00517.56245,E,0.004,,020809,,,A*7A
!AIVDO,1,1,,,B3aC3LP00063aT7RNq003wm5sP06,0*7A
$GPGBS,082942.00,2.4,1.5,3.9,,,,*4C
!AIVDM,1,1,,B,402E3:0000HttPGEahN7pi700`ID,0*76
$GPRMC,082943.00,A,5241.99849,N,00517.56244,E,0.008,,020809,,,A*7A
!AIVDO,1,1,,,B3aC3LP00063aT7RNq003wmUsP06,0*1A
$GPGBS,082943.00,2.4,1.5,3.9,27,,-45.0,25.5*66
$GPRMC,082944.00,A,5241.99853,N,00517.56239,E,0.005,,020809,,,A*71
!AIVDO,1,1,,,B3aC3LP00063aSWRNq403wn5sP06,0*1A
$GPGBS,082944.00,2.4,1.5,3.9,27,,-39.7,17.6*6F
!AIVDM,1,1,,B,H3`hB&lt;0&lt;50F0Pu8p00000000003,2*0B
!AIVDM,1,1,,A,402E3:0000HttPGEahN7pi700`JO,0*7D
$GPRMC,082945.00,A,5241.99857,N,00517.56230,E,0.005,,020809,,,A*7D


Jan Veninga


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003834.html">[Gpsd-users] What about gpd for tomtom??
</A></li>
	<LI>Next message: <A HREF="003836.html">[Gpsd-users] how to read AIS and GPS data on same port
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3835">[ date ]</a>
              <a href="thread.html#3835">[ thread ]</a>
              <a href="subject.html#3835">[ subject ]</a>
              <a href="author.html#3835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
