<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Week Number issue
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Week%20Number%20issue&In-Reply-To=%3C20110227060330.GA4069%40thyrsus.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005068.html">
   <LINK REL="Next"  HREF="005071.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Week Number issue</H1>
    <B>Eric Raymond</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Week%20Number%20issue&In-Reply-To=%3C20110227060330.GA4069%40thyrsus.com%3E"
       TITLE="[Gpsd-users] Week Number issue">esr at thyrsus.com
       </A><BR>
    <I>Sun Feb 27 07:03:30 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005068.html">[Gpsd-users] Week Number issue
</A></li>
        <LI>Next message: <A HREF="005071.html">[Gpsd-users] Week Number issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5069">[ date ]</a>
              <a href="thread.html#5069">[ thread ]</a>
              <a href="subject.html#5069">[ subject ]</a>
              <a href="author.html#5069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Charles Curley &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">charlescurley at charlescurley.com</A>&gt;:
&gt;<i> I conjecture that the approximately 20 years is actually 19.6 years, or
</I>&gt;<i> 1024 weeks. <A HREF="http://en.wikipedia.org/wiki/Gps#Timekeeping_format.">http://en.wikipedia.org/wiki/Gps#Timekeeping_format.</A>
</I>
I would bet quite heavily that you are correct, sir.

&gt;<i> I also conjecture that gpsd sets the week correctly when it first
</I>&gt;<i> fires up or first sees a receiver, but not on re-plugging the same
</I>&gt;<i> receiver (or type of receiver).
</I>
I regret to tell you that gpsd doesn't try to set the week itself.  It
does use the daemon start time to deduce what rollover period, year,
and century it started in, but this information is used only to
compensate for rollovers and year or century transitions that happen
*while the daemon is running*.

I did consider trying to write code to deduce when a time reported
after cold or warm boot is incorrect. In fact I gave this problem
concentrated attention for about two weeks.  I concluded that trying 
to &quot;fix&quot; it was a bad idea, as all the disambiguation methods I
could come up with were both inadequate for most cases or seemed
prone to weird bugs in edge cases or both (usually both, in fact).

Some of my travails are described here: <A HREF="http://esr.ibiblio.org/?p=2882">http://esr.ibiblio.org/?p=2882</A>

&gt;<i> I would be glad to write a braindead client in Perl to check for this
</I>&gt;<i> (and verify the 19.6 year conjecture), but I expect you would prefer
</I>&gt;<i> that in Python.
</I>
Nah.  I believe your report. Got some similar tire tracks in my back.
 
&gt;<i> Any suggestions on how to proceed, other than buy a new receiver
</I>&gt;<i> capable of dealing with a 13 bit week number?
</I>
Don't trust your GPS date.  Time is generally accurate, because GPS TOW
isn't subject to rollover effects.

Sadly, ability to deal with the 13-bit counters is effectively nonexistent.
Not enough of the Block IIF birds have been deployed yet.
-- 
		&lt;a href=&quot;<A HREF="http://www.catb.org/~esr/">http://www.catb.org/~esr/</A>&quot;&gt;Eric S. Raymond&lt;/a&gt;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005068.html">[Gpsd-users] Week Number issue
</A></li>
	<LI>Next message: <A HREF="005071.html">[Gpsd-users] Week Number issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5069">[ date ]</a>
              <a href="thread.html#5069">[ thread ]</a>
              <a href="subject.html#5069">[ subject ]</a>
              <a href="author.html#5069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
