<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] How to set initial time?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2011-October/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20How%20to%20set%20initial%20time%3F&In-Reply-To=%3Cae0e8784e03c6ae62fc01d53fe714aac.squirrel%40mail.seiner.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005519.html">
   <LINK REL="Next"  HREF="005516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] How to set initial time?</H1>
    <B>Yan Seiner</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20How%20to%20set%20initial%20time%3F&In-Reply-To=%3Cae0e8784e03c6ae62fc01d53fe714aac.squirrel%40mail.seiner.com%3E"
       TITLE="[Gpsd-users] How to set initial time?">yan at seiner.com
       </A><BR>
    <I>Fri Oct 28 21:48:20 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005519.html">[Gpsd-users] How to set initial time?
</A></li>
        <LI>Next message: <A HREF="005516.html">[Gpsd-users] How to set initial time?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5520">[ date ]</a>
              <a href="thread.html#5520">[ thread ]</a>
              <a href="subject.html#5520">[ subject ]</a>
              <a href="author.html#5520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Fri, October 28, 2011 11:22 am, Charles Curley wrote:
&gt;<i> On Fri, 28 Oct 2011 10:30:44 -0700 (PDT)
</I>&gt;<i> &quot;Yan Seiner&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">yan at seiner.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm not sure how gps handles time signals but it sure looks like
</I>&gt;&gt;<i> something is rolling over...  22 years looks like about 700,000,000
</I>&gt;&gt;<i> seconds; I can't think of any integer that would roll over at that
</I>&gt;&gt;<i> point.
</I>&gt;<i>
</I>&gt;<i> Well, the people who designed the GPS system could. Except it's
</I>&gt;<i> even more bizarre than that. :-)
</I>&gt;<i> <A HREF="http://en.wikipedia.org/wiki/GPS#Timekeeping">http://en.wikipedia.org/wiki/GPS#Timekeeping</A>
</I>
Alrighty then.  I'll stop looking for bugs that aren't there.  :-)

I almost had it pegged; 19.6 v 22 years.

So the way forward (remember, I have an embedded platform that has no RTC
and no network connection at times):

Store a recent date in flash

start gpsd
On boot, load the old date from flash
WATCH enable
POLL to get the time
WATCH disable
parse response, set system time
start chrony

Or something like that....


-- 
Pain is temporary. It may last a minute, or an hour, or a day, or a year,
but eventually it will subside and something else will take its place. If
I quit, however, it lasts forever.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005519.html">[Gpsd-users] How to set initial time?
</A></li>
	<LI>Next message: <A HREF="005516.html">[Gpsd-users] How to set initial time?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5520">[ date ]</a>
              <a href="thread.html#5520">[ thread ]</a>
              <a href="subject.html#5520">[ subject ]</a>
              <a href="author.html#5520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
