<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Waiting data is the same as already read before
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Waiting%20data%20is%20the%20same%20as%20already%20read%20before&In-Reply-To=%3C20100118095944.3238cd1c%40dragon.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004170.html">
   <LINK REL="Next"  HREF="004172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Waiting data is the same as already read before</H1>
    <B>Charles Curley</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Waiting%20data%20is%20the%20same%20as%20already%20read%20before&In-Reply-To=%3C20100118095944.3238cd1c%40dragon.localdomain%3E"
       TITLE="[Gpsd-users] Waiting data is the same as already read before">charlescurley at charlescurley.com
       </A><BR>
    <I>Mon Jan 18 17:59:44 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004170.html">[Gpsd-users] Waiting data is the same as already read before
</A></li>
        <LI>Next message: <A HREF="004172.html">[Gpsd-users] Waiting data is the same as already read before
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4171">[ date ]</a>
              <a href="thread.html#4171">[ thread ]</a>
              <a href="subject.html#4171">[ subject ]</a>
              <a href="author.html#4171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 18 Jan 2010 17:21:07 +0100
Sebastian Schuberth &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">sschuberth at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I'm quite new to gpsd (using v2.90) and GPS in general. I've written a
</I>&gt;<i> simple test program that reads GPS data in a loop and prints it to the
</I>&gt;<i> console until a key is pressed. If there's currently no (new) data
</I>&gt;<i> waiting, the program should not block but print the current /
</I>&gt;<i> previously polled data. See below for the source code. The program
</I>&gt;<i> works just fine, but there's one thing that I do not really
</I>&gt;<i> understand. As you can see from the source code, I print the string
</I>&gt;<i> &quot;polled&quot; to the console if the data was freshly polled, and not just
</I>&gt;<i> read from a previously polled &quot;data&quot; structure.
</I>
I am also fairly new to gpsd myself, but have written two programs
similar to what you are doing. I'm sure the more experienced folks here
will correct me if I'm wrong.

You should have a hooked, or callback, function (I called mine &quot;showData
()&quot;) for libgps to call from time to time. showData does the actual
display. Set it with:

       void gps_set_raw_hook(struct gps_data_t *gpsdata,
                             void (*hook)(struct gps_data_t *, char
                             *buf, size_t len));

See &quot;man libgps&quot; for the details.

-- 

Charles Curley                  /&quot;\    ASCII Ribbon Campaign
Looking for fine software       \ /    Respect for open standards
and/or writing?                  X     No HTML/RTF in email
<A HREF="http://www.charlescurley.com">http://www.charlescurley.com</A>    / \    No M$ Word docs in email

Key fingerprint = CE5C 6645 A45A 64E4 94C0  809C FFF6 4C48 4ECD DFDB

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004170.html">[Gpsd-users] Waiting data is the same as already read before
</A></li>
	<LI>Next message: <A HREF="004172.html">[Gpsd-users] Waiting data is the same as already read before
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4171">[ date ]</a>
              <a href="thread.html#4171">[ thread ]</a>
              <a href="subject.html#4171">[ subject ]</a>
              <a href="author.html#4171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
