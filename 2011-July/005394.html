<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Debian Squeeze and EWM-G107F (UBX-G5xxx)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Debian%20Squeeze%20and%20EWM-G107F%20%28UBX-G5xxx%29&In-Reply-To=%3C20110713191343.72572a1c%40char.neurosoft.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005393.html">
   <LINK REL="Next"  HREF="005395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Debian Squeeze and EWM-G107F (UBX-G5xxx)</H1>
    <B>Krzysztof Kaczmar</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Debian%20Squeeze%20and%20EWM-G107F%20%28UBX-G5xxx%29&In-Reply-To=%3C20110713191343.72572a1c%40char.neurosoft.local%3E"
       TITLE="[Gpsd-users] Debian Squeeze and EWM-G107F (UBX-G5xxx)">arroyo at o2.pl
       </A><BR>
    <I>Wed Jul 13 19:13:43 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005393.html">[Gpsd-users] gps_set_raw_hook Replacement
</A></li>
        <LI>Next message: <A HREF="005395.html">[Gpsd-users] Update freuency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5394">[ date ]</a>
              <a href="thread.html#5394">[ thread ]</a>
              <a href="subject.html#5394">[ subject ]</a>
              <a href="author.html#5394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.

I'm trying to configure the following device on Debian Squeeze amd64
(gpsd 2.95):

<A HREF="http://www.advantech.com/products/EWM-G107F/mod_1DC7CB1C-42BF-4400-A20B-AF3DE018C114.aspx">http://www.advantech.com/products/EWM-G107F/mod_1DC7CB1C-42BF-4400-A20B-AF3DE018C114.aspx</A>

but it doesn't seem to work.

It's enumerated as USB device: 1546:01a5 U-Blox AG, and can be accessed
through /dev/ttyACM0.

# cat /dev/ttyACM0
$GPTXT,01,01,02,u-blox ag - www.u-blox.com*50
$GPTXT,01,01,02,HW  UBX-G5xxx  00040005 FFF1FFFFp*1C
$GPTXT,01,01,02,ROM CORE 5.00 (28483) Jun  6 2008 14:45:11*40
$GPTXT,01,01,02,ANTSUPERV=AC SD PDoS SR*20
$GPTXT,01,01,02,ANTSTATUS=OK*3B
$GPRMC,,V,,,,,,,,,,N*53
$GPVTG,,,,,,,,,N*30
$GPGGA,,,,,,0,00,99.99,,,,,,*48
$GPGSA,A,1,,,,,,,,,,,,,99.99,99.99,99.99*30
$GPGSV,1,1,00*79
$GPGLL,,,,,,V,N*64
$GPRMC,,V,,,,,,,,,,N*53
$GPVTG,,,,,,,,,N*30
$GPGGA,,,,,,0,00,99.99,,,,,,*48
$GPGSA,A,1,,,,,,,,,,,,,99.99,99.99,99.99*30
$GPGSV,1,1,00*79
$GPGLL,,,,,,V,N*64
[...]

# gpsd -n -N -D 4 /dev/ttyACM0
gpsd: launching (Version 2.95)
gpsd: listening on port gpsd
gpsd: NTPD shmat(0,0,0) succeeded, segment 0
gpsd: NTPD shmat(32769,0,0) succeeded, segment 1
gpsd: NTPD shmat(65538,0,0) succeeded, segment 2
gpsd: NTPD shmat(98307,0,0) succeeded, segment 3
gpsd: unable to connect to the DBUS system bus
gpsd: running with effective group ID 0
gpsd: running with effective user ID 0
gpsd: opening read-only GPS data source type 0 and at '/dev/ttyACM0'
gpsd: speed 9600, 8N1
gpsd: =&gt; GPS: @F0.3=1*67\x0d\x0a FAILED
gpsd: =&gt; GPS: @F2.2=1*64\x0d\x0a FAILED
gpsd: Navcom: sent command 0x1c (Test Support Block)
gpsd: Navcom: sent command 0x20 (Data Request) - data block id = ae at rate 00
gpsd: Navcom: sent command 0x20 (Data Request) - data block id = 86 at rate 0a
gpsd: Probing TSIP
gpsd: speed 9600, 8O1
gpsd: =&gt; GPS: @F0.3=1*67\x0d\x0a FAILED
gpsd: =&gt; GPS: @F2.2=1*64\x0d\x0a FAILED
gpsd: Navcom: sent command 0x1c (Test Support Block)
gpsd: Navcom: sent command 0x20 (Data Request) - data block id = ae at rate 00
gpsd: Navcom: sent command 0x20 (Data Request) - data block id = 86 at rate 0a
gpsd: speed 9600, 8N1
gpsd: =&gt; GPS: @F0.3=1*67\x0d\x0a FAILED
gpsd: =&gt; GPS: @F2.2=1*64\x0d\x0a FAILED
gpsd: Navcom: sent command 0x1c (Test Support Block)
gpsd: Navcom: sent command 0x20 (Data Request) - data block id = ae at rate 00
gpsd: Navcom: sent command 0x20 (Data Request) - data block id = 86 at rate 0a
gpsd: no probe matched...
gpsd: gpsd_activate(): opened GPS (fd 5)
gpsd: switch_driver(Generic NMEA) called...
gpsd: selecting Generic NMEA driver...
gpsd: NTPD ntpd_link_activate: 1
gpsd: /dev/ttyACM0 identified as type Generic NMEA (0.407182 sec @ 9600bps)
gpsd: =&gt; Probing device subtype 0
gpsd: PPS Create Thread gpsd_ppsmonitor
gpsd: RMC: ddmmyy= hhmmss= lat=nan lon=nan speed=nan track=nan mode=0 status=0 mask={ONLINE}
gpsd: modeling errors: mode=0, masks={ONLINE|DRIVER|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|DRIVER|PACKET}
gpsd: =&gt; Probing device subtype 1
gpsd: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: =&gt; Probing device subtype 2
gpsd: GGA: hhmmss= lat=nan lon=nan alt=nan mode=0 status=0 mask={STATUS}
gpsd: modeling errors: mode=0, masks={ONLINE|STATUS|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|STATUS|PACKET}
gpsd: =&gt; Probing device subtype 3
gpsd: GPGSA sets mode 1
gpsd: GPGSA: mode=1 used=0 pdop=99.99 hdop=99.99 vdop=99.99 mask={MODE|DOP|USED}
gpsd: modeling errors: mode=1, masks={ONLINE|MODE|DOP|USED|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|MODE|DOP|USED|PACKET}
gpsd: =&gt; Probing device subtype 4
gpsd: Satellite data no good (1 of 1).
gpsd: unknown sentence: &quot;$GPGSV,1,1,00*79\x0d\x0a&quot;
gpsd: modeling errors: mode=1, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: =&gt; Probing device subtype 5
gpsd: GLL: hhmmss= lat=nan lon=nan mode=0 status=0 mask={}
gpsd: unknown sentence: &quot;$GPGLL,,,,,,V,N*64\x0d\x0a&quot;
gpsd: modeling errors: mode=1, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: GPS on /dev/ttyACM0 is offline (0.000055 sec since data)
gpsd: =&gt; Probing device subtype 6
gpsd: RMC: ddmmyy= hhmmss= lat=nan lon=nan speed=nan track=nan mode=0 status=0 mask={ONLINE}
gpsd: modeling errors: mode=1, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: =&gt; Probing device subtype 7
gpsd: modeling errors: mode=1, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: =&gt; Probing device subtype 8
gpsd: GGA: hhmmss= lat=nan lon=nan alt=nan mode=0 status=0 mask={STATUS}
gpsd: modeling errors: mode=1, masks={ONLINE|STATUS|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|STATUS|PACKET}
gpsd: GPGSA sets mode 1
gpsd: GPGSA: mode=1 used=0 pdop=99.99 hdop=99.99 vdop=99.99 mask={MODE|DOP|USED}
gpsd: modeling errors: mode=1, masks={ONLINE|MODE|DOP|USED|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|MODE|DOP|USED|PACKET}
gpsd: Satellite data no good (1 of 1).
gpsd: unknown sentence: &quot;$GPGSV,1,1,00*79\x0d\x0a&quot;
gpsd: modeling errors: mode=1, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: GLL: hhmmss= lat=nan lon=nan mode=0 status=0 mask={}
gpsd: unknown sentence: &quot;$GPGLL,,,,,,V,N*64\x0d\x0a&quot;
gpsd: modeling errors: mode=1, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: GPS on /dev/ttyACM0 is offline (0.000101 sec since data)
gpsd: RMC: ddmmyy= hhmmss= lat=nan lon=nan speed=nan track=nan mode=0 status=0 mask={ONLINE}
gpsd: modeling errors: mode=1, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: modeling errors: mode=1, masks={ONLINE|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd: GGA: hhmmss= lat=nan lon=nan alt=nan mode=0 status=0 mask={STATUS}
gpsd: modeling errors: mode=1, masks={ONLINE|STATUS|PACKET}
gpsd: packet from /dev/ttyACM0 with {ONLINE|STATUS|PACKET}
gpsd: GPGSA sets mode 1
[...]

Is there anything I can do make it work? I also built gpsd 2.96, but
results are more or less the same:

# /opt/gpsd-2.96/sbin/gpsd -n -N -D 4 /dev/ttyACM0
gpsd:INFO: launching (Version 2.96)
gpsd:INFO: listening on port gpsd
gpsd:PROG: NTPD shmat(0,0,0) succeeded, segment 0
gpsd:PROG: NTPD shmat(32769,0,0) succeeded, segment 1
gpsd:PROG: NTPD shmat(65538,0,0) succeeded, segment 2
gpsd:PROG: NTPD shmat(98307,0,0) succeeded, segment 3
gpsd:INFO: running with effective group ID 0
gpsd:INFO: running with effective user ID 0
gpsd:INFO: startup at 2011-07-13T17:09:12.00Z (1310576952)
gpsd:INFO: stashing device /dev/ttyACM0 at slot 0
gpsd:PROG: no /opt/gpsd-2.96/etc/gpsd/device-hook present, skipped running hook
gpsd:INFO: opening GPS data source type 2 at '/dev/ttyACM0'
gpsd:INFO: speed 9600, 8N1
gpsd:PROG: Probing GeoStar
gpsd:PROG: Probing TSIP
gpsd:INFO: speed 9600, 8O1
gpsd:INFO: speed 9600, 8N1
gpsd:PROG: no probe matched...
gpsd:INFO: gpsd_activate(): activated GPS (fd 5)
gpsd:INFO: device /dev/ttyACM0 activated
gpsd:PROG: switch_driver(Generic NMEA) called...
gpsd:PROG: selecting Generic NMEA driver...
gpsd:INFO: NTPD ntpd_link_activate: 1
gpsd:PROG: PPS Create Thread gpsd_ppsmonitor
gpsd:INFO: /dev/ttyACM0 identified as type Generic NMEA (0.000243 sec @ 9600bps)
gpsd:PROG: =&gt; Probing for Garmin NMEA
gpsd:PROG: PPS can not connect chrony socket: /tmp/chrony.ttyACM0.sock
gpsd:WARN: unknown sentence: &quot;$GPTXT,01,01,01,PASH inv format*36\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|DRIVER|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|DRIVER|PACKET}
gpsd:PROG: =&gt; Probing for SiRF
gpsd:WARN: unknown sentence: &quot;$GPTXT,01,01,01,PGRM inv format*34\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:PROG: =&gt; Probing for FV-18
gpsd:WARN: Satellite data no good (1 of 1).
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:PROG: =&gt; Probing for Trimble Copernicus
gpsd:DATA: GLL: hhmmss= lat=nan lon=nan mode=0 status=0 mask={}
gpsd:WARN: unknown sentence: &quot;$GPGLL,,,,,,V,N*64\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:PROG: =&gt; Probing for Evermore
gpsd:WARN: unknown sentence: &quot;$GPTXT,01,01,01,PSRF inv format*2B\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:PROG: =&gt; Probing for GPSClock
gpsd:WARN: unknown sentence: &quot;$GPTXT,01,01,01,PFEC inv format*2C\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:PROG: =&gt; Probing for Ashtech
gpsd:WARN: unknown sentence: &quot;$GPTXT,01,01,01,PTNL inv format*3A\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:PROG: =&gt; Probing for UBX
gpsd:WARN: unknown sentence: &quot;$GPTXT,01,01,01,PFEC inv format*2C\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:PROG: =&gt; Probing for MediaTek
gpsd:WARN: unknown sentence: &quot;$GPTXT,01,01,01,PASH inv format*36\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:WARN: unknown sentence: &quot;$GPTXT,01,01,01,PMTK inv format*3E\x0d\x0a&quot;
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:PROG: switch_driver(uBlox UBX binary) called...
gpsd:PROG: selecting uBlox UBX binary driver...
gpsd:INFO: NTPD ntpd_link_activate: 1
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:DATA: RMC: ddmmyy= hhmmss= lat=nan lon=nan speed=nan track=nan mode=0 status=0 mask={ONLINE}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|DRIVER|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|DRIVER|PACKET}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:DATA: GGA: hhmmss= lat=nan lon=nan alt=nan mode=1 status=0 mask={STATUS}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|STATUS|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|STATUS|PACKET}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:WARN: Satellite data no good (1 of 1).
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:DATA: GLL: hhmmss= lat=nan lon=nan mode=0 status=0 mask={}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:DATA: RMC: ddmmyy= hhmmss= lat=nan lon=nan speed=nan track=nan mode=0 status=0 mask={ONLINE}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|PACKET}
gpsd:DATA: GGA: hhmmss= lat=nan lon=nan alt=nan mode=1 status=0 mask={STATUS}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|STATUS|PACKET}
gpsd:DATA: packet from /dev/ttyACM0 with {ONLINE|STATUS|PACKET}
gpsd:DATA: modeling errors: mode=0, masks={ONLINE|PACKET}


-- 
Krzysztof Kaczmar

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005393.html">[Gpsd-users] gps_set_raw_hook Replacement
</A></li>
	<LI>Next message: <A HREF="005395.html">[Gpsd-users] Update freuency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5394">[ date ]</a>
              <a href="thread.html#5394">[ thread ]</a>
              <a href="subject.html#5394">[ subject ]</a>
              <a href="author.html#5394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
