<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Problems reliably detecting SiRF binary	GSW3.2.4_3.1.00.12-SDK003P1.00a
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Problems%20reliably%20detecting%20SiRF%20binary%0A%09GSW3.2.4_3.1.00.12-SDK003P1.00a&In-Reply-To=%3Cf339e0641003290751q5a1e06f9y57b1744f2e3c63ee%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004339.html">
   <LINK REL="Next"  HREF="004332.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Problems reliably detecting SiRF binary	GSW3.2.4_3.1.00.12-SDK003P1.00a</H1>
    <B>Christopher Piggott</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Problems%20reliably%20detecting%20SiRF%20binary%0A%09GSW3.2.4_3.1.00.12-SDK003P1.00a&In-Reply-To=%3Cf339e0641003290751q5a1e06f9y57b1744f2e3c63ee%40mail.gmail.com%3E"
       TITLE="[Gpsd-users] Problems reliably detecting SiRF binary	GSW3.2.4_3.1.00.12-SDK003P1.00a">cpiggott at gmail.com
       </A><BR>
    <I>Mon Mar 29 16:51:19 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004339.html">[Gpsd-users] PPS pulse length.
</A></li>
        <LI>Next message: <A HREF="004332.html">[Gpsd-users] Problems reliably detecting SiRF binary GSW3.2.4_3.1.00.12-SDK003P1.00a
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4331">[ date ]</a>
              <a href="thread.html#4331">[ thread ]</a>
              <a href="subject.html#4331">[ subject ]</a>
              <a href="author.html#4331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a bunch of devices deployed to the field with an ubuntu jaunty
build.  GPSD reports as version 2.38

$ dpkg -l|grep gpsd
ii  gpsd                                              2.38-1ubuntu3
                 GPS (Global Positioning System) daemon
ii  gpsd-clients                                      2.38-1ubuntu3
                 Clients for the GPS daemon


I can upgrade to 2.39 from karmic if I have to, but nothing I have
seen in the changelogs indicate it would solve my problem.

The issue is that the device does not reliably detect.  At first I was
starting gpsd with &quot;gpsd -n /dev/gps&quot; (initialize immediately).  I
thought that might be a problem so I removed the -n.  The first client
connects about one minute after power-up - definitely more than enough
time for the GPS module to initialize itself.

When the unit is stuck it usually says no device detected, and it
sometimes has changed the baud rate to 9600 (it should be 4800 for
this device, regardless of whether it's in NMEA or SiRF mode).

I can usually fix this problem with:

    stty 4800 &lt; /dev/gps ; gpsctl -b /dev/gps

I'm looking for a better way.  If I can't find one, the only option I
can think of is to write some kind of watchdog program, but I consider
that to be a mask rather than a fix.  I'm not sure what this watchdog
would do - perhaps the above, or perhaps just kill gpsd and start
again.

Have others had auto-detect problems before, and perhaps a cleaner solution?

--Chris

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004339.html">[Gpsd-users] PPS pulse length.
</A></li>
	<LI>Next message: <A HREF="004332.html">[Gpsd-users] Problems reliably detecting SiRF binary GSW3.2.4_3.1.00.12-SDK003P1.00a
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4331">[ date ]</a>
              <a href="thread.html#4331">[ thread ]</a>
              <a href="subject.html#4331">[ subject ]</a>
              <a href="author.html#4331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
