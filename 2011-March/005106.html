<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] gps_read() does not block
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20gps_read%28%29%20does%20not%20block&In-Reply-To=%3C4D7640FE.8060000%40kera.name%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005105.html">
   <LINK REL="Next"  HREF="005107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] gps_read() does not block</H1>
    <B>Tomalak Geret'kal</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20gps_read%28%29%20does%20not%20block&In-Reply-To=%3C4D7640FE.8060000%40kera.name%3E"
       TITLE="[Gpsd-users] gps_read() does not block">tom at kera.name
       </A><BR>
    <I>Tue Mar  8 15:45:18 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005105.html">[Gpsd-users] gps_read() does not block
</A></li>
        <LI>Next message: <A HREF="005107.html">[Gpsd-users] gps_read() does not block
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5106">[ date ]</a>
              <a href="thread.html#5106">[ thread ]</a>
              <a href="subject.html#5106">[ subject ]</a>
              <a href="author.html#5106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/03/2011 13:09, Andre Naujoks wrote:
&gt;<i> Am 08.03.2011 13:48, schrieb Tomalak Geret'kal:
</I>&gt;&gt;<i> On 08/03/2011 12:05, Andre Naujoks wrote:
</I>&gt;&gt;&gt;<i> I want to trigger on the gpsd connection.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have a few possiblities here:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> - use a complete core of my machine for busy waiting ... not an option.
</I>&gt;&gt;&gt;<i> - sleep between checking with gps_waiting()/gps_read()
</I>&gt;&gt;&gt;<i>       This way I get an unnecessary delay between the actual point in time
</I>&gt;&gt;&gt;<i>       when the data arrives and the point in time I read it. ... not an
</I>&gt;&gt;&gt;<i>       option.
</I>&gt;&gt;&gt;<i> - Use select on the gps socket. only option.
</I>&gt;&gt;&gt;<i> - ... manually reset the socket into blocking mode is possible, but I
</I>&gt;&gt;&gt;<i>       consider this a hack and would not like to fall back to this.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sounds like `select` is the canonical way of approaching your use case.
</I>&gt;&gt;<i> I don't know why you're so afraid of it.
</I>&gt;<i>
</I>&gt;<i> I am not afraid of it. I just wouldn't need it, if there was a non-hacky
</I>&gt;<i> way of making the socket blocking. I really don't understand why it is
</I>&gt;<i> non-blocking in the first place, or why the choice was taken away from
</I>&gt;<i> the user of the lib.
</I>&gt;<i>
</I>&gt;<i> But I now know that there is somehow no nice way of getting a blocking
</I>&gt;<i> socket from the gps lib. I have to deal with this inconvenience, because
</I>&gt;<i> thats what it is.
</I>&gt;<i>
</I>&gt;<i> Thank you all anyway for the clarifications.
</I>&gt;<i>    Andre
</I>
It's not an inconvenience. It's a way to give you complete 
control over how you perform your GPS reads, by giving you 
all the options that you listed previously. That's convenient.

Good luck with your app.

Tom

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005105.html">[Gpsd-users] gps_read() does not block
</A></li>
	<LI>Next message: <A HREF="005107.html">[Gpsd-users] gps_read() does not block
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5106">[ date ]</a>
              <a href="thread.html#5106">[ thread ]</a>
              <a href="subject.html#5106">[ subject ]</a>
              <a href="author.html#5106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
