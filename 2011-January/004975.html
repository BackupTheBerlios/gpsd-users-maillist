<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] bluetooth GPS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20bluetooth%20GPS&In-Reply-To=%3C1296102462.3139.30.camel%40servy.quietwind.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004965.html">
   <LINK REL="Next"  HREF="004976.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] bluetooth GPS</H1>
    <B>Chris Kottaridis</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20bluetooth%20GPS&In-Reply-To=%3C1296102462.3139.30.camel%40servy.quietwind.net%3E"
       TITLE="[Gpsd-users] bluetooth GPS">chriskot at quietwind.net
       </A><BR>
    <I>Thu Jan 27 05:27:42 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="004965.html">[Gpsd-users] bluetooth GPS
</A></li>
        <LI>Next message: <A HREF="004976.html">[Gpsd-users] bluetooth GPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4975">[ date ]</a>
              <a href="thread.html#4975">[ thread ]</a>
              <a href="subject.html#4975">[ subject ]</a>
              <a href="author.html#4975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There is a side issue on this that would be nice to have. A control
socket command to return the list of GPS devices would be nice.
Something like a &quot;list&quot; command that returns the devies on the gpsd
device list.

I'll keep poking around with how rfcomm seems to work to see if there is
a way to handle turning off and back on the bluetooth device and getting
the device active again without having to manually remove the device
from gpsd'd list and adding it back.

I'll let you know if I have any success.

Thanks
Chris Kottaridis

On Wed, 2011-01-26 at 05:05 -0500, Eric Raymond wrote:
&gt;<i> Chris Kottaridis &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">chriskot at quietwind.net</A>&gt;:
</I>&gt;<i> &gt; I have tried using udev to make things automated using guidance from
</I>&gt;<i> &gt; this web page:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; <A HREF="http://cris.bytesnblades.net/2009/02/20/starting-gpsd-automatically-with-a-bluetooth-gps">http://cris.bytesnblades.net/2009/02/20/starting-gpsd-automatically-with-a-bluetooth-gps</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; What I have found in my experiments is that I have to unbind
</I>&gt;<i> &gt; the /dev/rfcomm0 device by using the release option to rfcomm in order
</I>&gt;<i> &gt; for udev to recognize the power off and walk through the udev rules with
</I>&gt;<i> &gt; a remove ACTION. So, even though this saves me the need for the first
</I>&gt;<i> &gt; time use of my command to add the GPS to gpsd's device list, I still
</I>&gt;<i> &gt; have the turn it off and back on problem.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; It just seems like udev doesn't recognize the device has been turned off
</I>&gt;<i> &gt; until I release /dev/rfcomm manually.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; How do I set things up so that when I turn off the GPS and turn it back
</I>&gt;<i> &gt; on gpsd will recognize that the GPS is available again without having to
</I>&gt;<i> &gt; perform any manual commands ?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I seem to be missing something with trying to get udev to do all the
</I>&gt;<i> &gt; work. Should I not do the bind and have udev call a script that uses
</I>&gt;<i> &gt; connect instead ? 
</I>&gt;<i> 
</I>&gt;<i> I wrote the udev support in gpsd and I regret to say I don't have an
</I>&gt;<i> answer to this question. Please know that it has not been ignored, but
</I>&gt;<i> I think the solution will have to come from someone with more hands-on
</I>&gt;<i> Bluetooth experience than me.
</I>&gt;<i> 
</I>&gt;<i> If you figure out the missing piece, please tell us so we can add it
</I>&gt;<i> to our Bluetooth instructions. 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004965.html">[Gpsd-users] bluetooth GPS
</A></li>
	<LI>Next message: <A HREF="004976.html">[Gpsd-users] bluetooth GPS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4975">[ date ]</a>
              <a href="thread.html#4975">[ thread ]</a>
              <a href="subject.html#4975">[ subject ]</a>
              <a href="author.html#4975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
