<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] segfault calling gps_query
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20segfault%20calling%20gps_query&In-Reply-To=%3Cd3487f9a0704240309q7eaba151j55885b9b78976cea%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002579.html">
   <LINK REL="Next"  HREF="002581.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] segfault calling gps_query</H1>
    <B>Richard Hyde</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20segfault%20calling%20gps_query&In-Reply-To=%3Cd3487f9a0704240309q7eaba151j55885b9b78976cea%40mail.gmail.com%3E"
       TITLE="[Gpsd-users] segfault calling gps_query">email at richardhyde.net
       </A><BR>
    <I>Tue Apr 24 12:09:29 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002579.html">[Gpsd-users] segfault calling gps_query
</A></li>
        <LI>Next message: <A HREF="002581.html">[Gpsd-users] segfault calling gps_query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2580">[ date ]</a>
              <a href="thread.html#2580">[ thread ]</a>
              <a href="subject.html#2580">[ subject ]</a>
              <a href="author.html#2580">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Timm,

On 24/04/07, timm &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">timm.tross at freenet.de</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i> I fail calling gps_query() - it keeps returning a segfault.
</I>

I think I see the problem, your setting the callback to the result of a call
to fetchjob()

        gps_set_raw_hook(gpsdataptr,fetchjob());
&gt;<i>         sleep(1);
</I>&gt;<i>
</I>
rather than a pointer to the function.  Try

           gps_set_raw_hook(gpsdataptr,fetchjob);

Although I may be wrong...

Regards,

Richard

-- 
&quot;There is a theory which states that if ever anybody discovers exactly what
the Universe is for and why it is here, it will instantly disappear and be
replaced by something even more bizarre and inexplicable. There is another
theory which states that this has already happened.&quot;
    Douglas Adams

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002579.html">[Gpsd-users] segfault calling gps_query
</A></li>
	<LI>Next message: <A HREF="002581.html">[Gpsd-users] segfault calling gps_query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2580">[ date ]</a>
              <a href="thread.html#2580">[ thread ]</a>
              <a href="subject.html#2580">[ subject ]</a>
              <a href="author.html#2580">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
