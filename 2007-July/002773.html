<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Issue with 'D' command
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Issue%20with%20%27D%27%20command&In-Reply-To=%3C91981b3e0707230827r680d1d7t6bd85d883c5864e5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002772.html">
   <LINK REL="Next"  HREF="002776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Issue with 'D' command</H1>
    <B>Chris Kuethe</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Issue%20with%20%27D%27%20command&In-Reply-To=%3C91981b3e0707230827r680d1d7t6bd85d883c5864e5%40mail.gmail.com%3E"
       TITLE="[Gpsd-users] Issue with 'D' command">chris.kuethe at gmail.com
       </A><BR>
    <I>Mon Jul 23 17:27:13 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002772.html">[Gpsd-users] Issue with 'D' command
</A></li>
        <LI>Next message: <A HREF="002776.html">[Gpsd-users] Issue with 'D' command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2773">[ date ]</a>
              <a href="thread.html#2773">[ thread ]</a>
              <a href="subject.html#2773">[ subject ]</a>
              <a href="author.html#2773">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/23/07, Dave C &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">gpsd at creativesilicon.com.au</A>&gt; wrote:
&gt;<i> If I telnet into gpsd and issue a D command manually, the first valid
</I>&gt;<i> response is the time of the previous 'P' command. The second valid response
</I>&gt;<i> is the correct time.
</I>
DPD
GPSD,D=2007-07-23T21:18:44.00Z,P=53.527161 -113.530168,D=2007-07-23T21:18:44.00Z
DPD
GPSD,D=2007-07-23T15:18:44.77Z,P=53.527161 -113.530168,D=2007-07-23T15:18:44.77Z
DPD
GPSD,D=2007-07-23T15:18:45.77Z,P=53.527161 -113.530168,D=2007-07-23T15:18:45.77Z

I'm not seeing it ....

&gt;<i> Can anyone enlighten me to what's happening here? It was my understanding
</I>&gt;<i> that gpsd (if started with -n) should keep updating it's internal
</I>&gt;<i> structures even if no client was connected. If this is a feature with 'D',
</I>&gt;<i> is it also a feature with 'P'? Can't tell you if this is the case yet as
</I>&gt;<i> the gear hasn't left my bench for a trial deployment.....
</I>
Yes, gpsd should be updating all the internal structures. About all
that I can think of at this time is that your receiver is in NMEA
mode, so gpsd has to assemble the full solution (including time) from
a bunch of sentences, and you may just be getting very unlucky.

That being said, perhaps you could instrument gpsd to log the results
of gettimeofday() and the gps timestamp every time a request for some
timestamped data is made... i'll look into doing that here, see if i
can't spot something....

CK

-- 
GDB has a 'break' feature; why doesn't it have 'fix' too?

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002772.html">[Gpsd-users] Issue with 'D' command
</A></li>
	<LI>Next message: <A HREF="002776.html">[Gpsd-users] Issue with 'D' command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2773">[ date ]</a>
              <a href="thread.html#2773">[ thread ]</a>
              <a href="subject.html#2773">[ subject ]</a>
              <a href="author.html#2773">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
