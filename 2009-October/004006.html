<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Unplugging USB gps receivers - gpsd behaviour.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Unplugging%20USB%20gps%20receivers%20-%20gpsd%20behaviour.&In-Reply-To=%3C4AD3481F.7030601%40wildgooses.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004005.html">
   <LINK REL="Next"  HREF="004007.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Unplugging USB gps receivers - gpsd behaviour.</H1>
    <B>Ed W</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Unplugging%20USB%20gps%20receivers%20-%20gpsd%20behaviour.&In-Reply-To=%3C4AD3481F.7030601%40wildgooses.com%3E"
       TITLE="[Gpsd-users] Unplugging USB gps receivers - gpsd behaviour.">lists at wildgooses.com
       </A><BR>
    <I>Mon Oct 12 17:15:43 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004005.html">[Gpsd-users] Unplugging USB gps receivers - gpsd behaviour.
</A></li>
        <LI>Next message: <A HREF="004007.html">[Gpsd-users] Unplugging USB gps receivers - gpsd behaviour.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4006">[ date ]</a>
              <a href="thread.html#4006">[ thread ]</a>
              <a href="subject.html#4006">[ subject ]</a>
              <a href="author.html#4006">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Two Sank wrote:
&gt;<i> When I plug in my BU-353 GPS receiver into Ubuntu Jaunty netbook remix
</I>&gt;<i> on my Eee PC 900 it creates ttyUSB0 and launches gpsd (2.38) which then
</I>&gt;<i> delivers fixes to my application (JOSM).
</I>&gt;<i>
</I>&gt;<i> When I unplug the receiver, there is no &quot;remove&quot; event generated so that
</I>&gt;<i> /lib/udev/gpsd.hotplug.wrapper is not invoked with a &quot;remove&quot; event.
</I>&gt;<i>
</I>&gt;<i> The next time I plug the receiver in it creates ttyUSB1. Then
</I>&gt;<i> subsequently ttyUSB2, ttyUSB3 and ttyUSB4. However, then the
</I>&gt;<i> characteristics change and when I unplug it after ttyUSB4 it DOES give
</I>&gt;<i> an unplug event from UDEV, calls the remove action
</I>&gt;<i> /lib/udev/gpsd.hotplug.wrapper and removes ttyUSB4 from /dev.
</I>&gt;<i> Subsequent plugging in always attaches to ttyUSB4 giving both add and
</I>&gt;<i> remove events.
</I>&gt;<i>
</I>&gt;<i>   
</I>
On my machine (gentoo), using a fairly recent udev (141 from memory) I 
observe that the gentoo supplied hotplug script (apparently different to 
the gpsd supplied hotplug script) does not generate remove events 
because the udev remove event matching appears not to match the same 
features that the &quot;add&quot; event does.  In the end I couldn't do any better 
than calling remove on all TTY com port remove events...

I don't have the details in front of me, but it may be worth watching 
the debug through the udev monitor script and twiddle with your remove 
rules until you figure out what isn't matching?

Good luck

Ed W

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004005.html">[Gpsd-users] Unplugging USB gps receivers - gpsd behaviour.
</A></li>
	<LI>Next message: <A HREF="004007.html">[Gpsd-users] Unplugging USB gps receivers - gpsd behaviour.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4006">[ date ]</a>
              <a href="thread.html#4006">[ thread ]</a>
              <a href="subject.html#4006">[ subject ]</a>
              <a href="author.html#4006">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
