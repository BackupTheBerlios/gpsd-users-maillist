<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] PPS Detection problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20PPS%20Detection%20problem&In-Reply-To=%3Calpine.DEB.1.10.1004081237440.18491%40org-pc51.fy.chalmers.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004367.html">
   <LINK REL="Next"  HREF="004369.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] PPS Detection problem</H1>
    <B>H&#229;kan Johansson</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20PPS%20Detection%20problem&In-Reply-To=%3Calpine.DEB.1.10.1004081237440.18491%40org-pc51.fy.chalmers.se%3E"
       TITLE="[Gpsd-users] PPS Detection problem">f96hajo at chalmers.se
       </A><BR>
    <I>Thu Apr  8 12:47:23 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004367.html">[Gpsd-users] PPS Detection problem
</A></li>
        <LI>Next message: <A HREF="004369.html">[Gpsd-users] PPS Detection problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4368">[ date ]</a>
              <a href="thread.html#4368">[ thread ]</a>
              <a href="subject.html#4368">[ subject ]</a>
              <a href="author.html#4368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello Pekka,

the CTS pin on the serial port is for reception, RTS for transmission, 
where are you connected?

Did you connect the RX and TX pins of the GPS unit to the same serial port 
as the PPS signal?  That will also be needed (bare ioctl is of course 
independent).

The compilation option '--enable-pps-on-cts' is required for PPS via CTS 
(instead of the default DCD).

80 us should work, although (more often with a slower machine) may toggle 
between detection as an 'invisible' pulse and a normal one.

Cheers,
H&#229;kan


On Thu, 8 Apr 2010, P&#228;&#228;kk&#246;nen Pekka wrote:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I am using Trimble Lassen IQ with gpsd. The GPS-device is connected via USB to the PC, which works correctly with gpsd.
</I>&gt;<i> I have also connected PPS signal via a RS-232 converter to the serial line interface, which I want to apply for PPS pulse detection.
</I>&gt;<i>
</I>&gt;<i> The problem is detection of PPS pulses. PPS pulse is transmitted currently in the RTS pin.
</I>&gt;<i> I cannot detect any changes in the pin (based on PPS signal) with ioctl().
</I>&gt;<i> I also tried modifying selection of pin in gpsd_ppsmonitor() for RTS, but the call to ioctl() just waits.
</I>&gt;<i>
</I>&gt;<i> The serial line interface (/dev/ttyS0) has been tested to work correctly with another GPS-device.
</I>&gt;<i> The PPS pulse has also been tested with an oscilloscope (~80uS wide pulse).
</I>&gt;<i> Does anyone know how to solve this problem or provide any guidance on how to move forward?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Pekka P&#228;&#228;kk&#246;nen
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Gpsd-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">Gpsd-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/gpsd-users">https://lists.berlios.de/mailman/listinfo/gpsd-users</A>
</I>&gt;<i>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004367.html">[Gpsd-users] PPS Detection problem
</A></li>
	<LI>Next message: <A HREF="004369.html">[Gpsd-users] PPS Detection problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4368">[ date ]</a>
              <a href="thread.html#4368">[ thread ]</a>
              <a href="subject.html#4368">[ subject ]</a>
              <a href="author.html#4368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
