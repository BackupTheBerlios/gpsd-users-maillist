<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Gpsd-users] Udev, gpsd and Ubuntu 9.10
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/gpsd-users/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Udev%2C%20gpsd%20and%20Ubuntu%209.10&In-Reply-To=%3C20100425144307.066c6406%40dragon.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004436.html">
   <LINK REL="Next"  HREF="004429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Gpsd-users] Udev, gpsd and Ubuntu 9.10</H1>
    <B>Charles Curley</B> 
    <A HREF="mailto:gpsd-users%40lists.berlios.de?Subject=Re%3A%20%5BGpsd-users%5D%20Udev%2C%20gpsd%20and%20Ubuntu%209.10&In-Reply-To=%3C20100425144307.066c6406%40dragon.localdomain%3E"
       TITLE="[Gpsd-users] Udev, gpsd and Ubuntu 9.10">charlescurley at charlescurley.com
       </A><BR>
    <I>Sun Apr 25 22:43:07 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004436.html">[Gpsd-users] Garmin GPS 18 LVC on Debian lenny?
</A></li>
        <LI>Next message: <A HREF="004429.html">[Gpsd-users] Udev, gpsd and Ubuntu 9.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4427">[ date ]</a>
              <a href="thread.html#4427">[ thread ]</a>
              <a href="subject.html#4427">[ subject ]</a>
              <a href="author.html#4427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am running Ubuntu 9.10 and compiling and installing the head of the
git repo. Manual launching works. The gps is a GlobalSat BU 353, which
shows up as a USB device as a pl2303. This is reported to work with
the udev code. <A HREF="http://gpsd.berlios.de/hardware.html">http://gpsd.berlios.de/hardware.html</A>

The udev plugin code does not appear to be working. The kernel correctly
detects the device. From /var/log/syslog (wrapped for email):

--------------------------------------------------
Apr 25 13:54:50 white kernel: [4075127.992093] usb 2-1: new full speed
USB device using ohci_hcd and address 40
Apr 25 13:54:50 white kernel: [4075128.198709] usb 2-1: configuration
#1 chosen from 1 choice
Apr 25 13:54:50 white kernel: [4075128.203610] pl2303 2-1:1.0: pl2303
converter detected
Apr 25 13:54:50 white kernel: [4075128.241615] usb 2-1: pl2303
converter now attached to ttyUSB0
--------------------------------------------------

gpsd isn't run and I don't see any evidence that that udev tried to run
it. In particular both /var/log/udev and /var/log/syslog are silent.

/etc/default/gpsd looks like so:

--------------------------------------------------
# Default settings for gpsd.

# Hacked to fit in with the udev stuff in the gpsd distribution.

# Please do not edit this file directly - use `dpkg-reconfigure gpsd' to
# change the options.
START_DAEMON=&quot;true&quot;
DAEMON_OPTS=&quot;-F /var/run/gpsd.sock -G&quot;
DEVICES=&quot;/dev/ttyUSB0&quot;

USBAUTO=&quot;false&quot;
GPSD_OPTIONS=&quot;-G&quot;
GPSD_SOCKET=&quot;/var/run/gpsd.sock&quot;
--------------------------------------------------

Am I correct in providing the last two values?

I've run &quot;make udev-install&quot;.

One glitch is that Ubuntu doesn't operate its hotplugging quite the way
Debian does. According to /etc/udev/rules.d/README:

--------------------------------------------------
The files in this directory are read by udev(7) and used when events
are performed by the kernel.  The udev daemon watches this directory
with inotify so that changes to these files are automatically picked
up, for this reason they must be files and not symlinks to another
location as in the case in Debian.
--------------------------------------------------

udev-install seems to be suitable for Debian rather than Ubuntu. I have
not experimented with a Ubuntu re-write.

Reloading udev (&quot;service udev reload&quot;) does not appear to help.

-- 

Charles Curley                  /&quot;\    ASCII Ribbon Campaign
Looking for fine software       \ /    Respect for open standards
and/or writing?                  X     No HTML/RTF in email
<A HREF="http://www.charlescurley.com">http://www.charlescurley.com</A>    / \    No M$ Word docs in email

Key fingerprint = CE5C 6645 A45A 64E4 94C0  809C FFF6 4C48 4ECD DFDB

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004436.html">[Gpsd-users] Garmin GPS 18 LVC on Debian lenny?
</A></li>
	<LI>Next message: <A HREF="004429.html">[Gpsd-users] Udev, gpsd and Ubuntu 9.10
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4427">[ date ]</a>
              <a href="thread.html#4427">[ thread ]</a>
              <a href="subject.html#4427">[ subject ]</a>
              <a href="author.html#4427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/gpsd-users">More information about the Gpsd-users
mailing list</a><br>
</body></html>
